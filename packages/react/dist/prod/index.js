import"core-js/modules/es.object.keys";import"core-js/modules/web.dom-collections.for-each";import _extends from"@babel/runtime/helpers/esm/extends";import React,{useEffect,useState}from"react";import{exportModule as baseExportModule,renderApp as baseRenderApp,renderSSR as baseRenderSSR,getView,isPromiseView,isServer,viewWillMount,viewWillUnmount}from"@medux/core";import{Provider}from"react-redux";export function renderApp(a,b,c,d){return baseRenderApp(function(b,c,d,e){a(function ReduxProvider(a){// eslint-disable-next-line react/prop-types
return React.createElement(Provider,{store:b},a.children)},d.Main,e)},b,c,d)}export function renderSSR(a,b,c,d){return void 0===d&&(d={}),baseRenderSSR(function(b,c,d,e){var f=b.getState();return{ssrInitStoreKey:e,data:f,html:a(function ReduxProvider(a){// eslint-disable-next-line react/prop-types
return React.createElement(Provider,{store:b},a.children)},d.Main)}},b,c,d)}var autoID=0;export var loadView=function(a,b,c,d){var e=0,f=function(){return viewWillMount(b,c,e+"")},g=function(){return viewWillUnmount(b,c,e+"")},h=function(i){var j=useState(function(){isServer()||(e=autoID++);var d=getView(a,b,c);return isPromiseView(d)?(d.then(function(a){Object.keys(h).forEach(function(b){return a[b]=h[b]}),Object.keys(a).forEach(function(b){return h[b]=a[b]}),l({Component:a})}),null):(Object.keys(h).forEach(function(a){return d[a]=h[a]}),Object.keys(d).forEach(function(a){return h[a]=d[a]}),{Component:d})}),k=j[0],l=j[1];return useEffect(function(){if(k){var a={didFocus:null,didBlur:null};return i.navigation&&(a.didFocus=i.navigation.addListener("didFocus",f),a.didBlur=i.navigation.addListener("didBlur",g)),f(),function(){a.didFocus&&a.didFocus.remove(),a.didBlur&&a.didBlur.remove(),g()}}},[k]),k?React.createElement(k.Component,_extends({},i,{onFocus:f,onBlur:g})):d?React.createElement(d,i):null};return h};export var exportModule=baseExportModule;
//# sourceMappingURL=index.js.map