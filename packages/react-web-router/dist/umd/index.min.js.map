{"version":3,"file":"index.min.js","sources":["../../../../node_modules/@babel/runtime/helpers/esm/extends.js","../../../core/dist/esm/sprite.js","../../../core/dist/esm/env.js","../../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../../../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../core/dist/esm/basic.js","../../../core/dist/esm/actions.js","../../../../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/toArray.js","../../../../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../../node_modules/@babel/runtime/helpers/esm/typeof.js","../../../../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../../../../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../../../../node_modules/@babel/runtime/helpers/esm/decorate.js","../../../core/dist/esm/inject.js","../../../core/dist/esm/store.js","../../../../node_modules/regenerator-runtime/runtime.js","../../../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../../../core/dist/esm/render.js","../../src/env.ts","../../../route-web/dist/esm/basic.js","../../../../node_modules/@babel/runtime/helpers/esm/createClass.js","../../../route-web/dist/esm/deep-extend.js","../../../route-web/dist/esm/transform.js","../../../route-web/dist/esm/module.js","../../../route-web/dist/esm/index.js","../../../../node_modules/resolve-pathname/esm/resolve-pathname.js","../../../../node_modules/tiny-warning/dist/tiny-warning.esm.js","../../../../node_modules/tiny-invariant/dist/tiny-invariant.esm.js","../../../../node_modules/history/esm/history.js","../../../route-browser/dist/esm/index.js","../../../../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../src/loadView.tsx","../../src/sington.ts","../../src/components/DocumentHead.tsx","../../src/components/Else.tsx","../../src/components/Switch.tsx","../../src/index.tsx","../../src/components/Link.tsx"],"sourcesContent":["export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { env } from './env';\nexport var LoadingState;\n\n(function (LoadingState) {\n  LoadingState[\"Start\"] = \"Start\";\n  LoadingState[\"Stop\"] = \"Stop\";\n  LoadingState[\"Depth\"] = \"Depth\";\n})(LoadingState || (LoadingState = {}));\n\nexport var SingleDispatcher = function () {\n  function SingleDispatcher() {\n    _defineProperty(this, \"listenerId\", 0);\n\n    _defineProperty(this, \"listenerMap\", {});\n  }\n\n  var _proto = SingleDispatcher.prototype;\n\n  _proto.addListener = function addListener(callback) {\n    this.listenerId++;\n    var id = \"\" + this.listenerId;\n    var listenerMap = this.listenerMap;\n    listenerMap[id] = callback;\n    return function () {\n      delete listenerMap[id];\n    };\n  };\n\n  _proto.dispatch = function dispatch(data) {\n    var listenerMap = this.listenerMap;\n    Object.keys(listenerMap).forEach(function (id) {\n      listenerMap[id](data);\n    });\n  };\n\n  return SingleDispatcher;\n}();\nexport var MultipleDispatcher = function () {\n  function MultipleDispatcher() {\n    _defineProperty(this, \"listenerId\", 0);\n\n    _defineProperty(this, \"listenerMap\", {});\n  }\n\n  var _proto2 = MultipleDispatcher.prototype;\n\n  _proto2.addListener = function addListener(name, callback) {\n    this.listenerId++;\n    var id = \"\" + this.listenerId;\n\n    if (!this.listenerMap[name]) {\n      this.listenerMap[name] = {};\n    }\n\n    var listenerMap = this.listenerMap[name];\n    listenerMap[id] = callback;\n    return function () {\n      delete listenerMap[id];\n    };\n  };\n\n  _proto2.dispatch = function dispatch(name, data) {\n    var listenerMap = this.listenerMap[name];\n\n    if (listenerMap) {\n      Object.keys(listenerMap).forEach(function (id) {\n        listenerMap[id](data);\n      });\n    }\n  };\n\n  return MultipleDispatcher;\n}();\nexport var TaskCounter = function (_SingleDispatcher) {\n  _inheritsLoose(TaskCounter, _SingleDispatcher);\n\n  function TaskCounter(deferSecond) {\n    var _this;\n\n    _this = _SingleDispatcher.call(this) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"list\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"ctimer\", 0);\n\n    _this.deferSecond = deferSecond;\n    return _this;\n  }\n\n  var _proto3 = TaskCounter.prototype;\n\n  _proto3.addItem = function addItem(promise, note) {\n    var _this2 = this;\n\n    if (note === void 0) {\n      note = '';\n    }\n\n    if (!this.list.some(function (item) {\n      return item.promise === promise;\n    })) {\n      this.list.push({\n        promise: promise,\n        note: note\n      });\n      promise.finally(function () {\n        return _this2.completeItem(promise);\n      });\n\n      if (this.list.length === 1 && !this.ctimer) {\n        this.dispatch(LoadingState.Start);\n        this.ctimer = env.setTimeout(function () {\n          _this2.ctimer = 0;\n\n          if (_this2.list.length > 0) {\n            _this2.dispatch(LoadingState.Depth);\n          }\n        }, this.deferSecond * 1000);\n      }\n    }\n\n    return promise;\n  };\n\n  _proto3.completeItem = function completeItem(promise) {\n    var i = this.list.findIndex(function (item) {\n      return item.promise === promise;\n    });\n\n    if (i > -1) {\n      this.list.splice(i, 1);\n\n      if (this.list.length === 0) {\n        if (this.ctimer) {\n          env.clearTimeout.call(null, this.ctimer);\n          this.ctimer = 0;\n        }\n\n        this.dispatch(LoadingState.Stop);\n      }\n    }\n\n    return this;\n  };\n\n  return TaskCounter;\n}(SingleDispatcher);\nexport function isPlainObject(obj) {\n  return typeof obj === 'object' && obj !== null && !Array.isArray(obj);\n}\n\nfunction __deepMerge(optimize, target, inject) {\n  Object.keys(inject).forEach(function (key) {\n    var src = target[key];\n    var val = inject[key];\n\n    if (isPlainObject(val)) {\n      if (isPlainObject(src)) {\n        target[key] = __deepMerge(optimize, src, val);\n      } else {\n        target[key] = optimize ? val : __deepMerge(optimize, {}, val);\n      }\n    } else {\n      target[key] = val;\n    }\n  });\n  return target;\n}\n\nexport function deepMerge(target) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  if (!isPlainObject(target)) {\n    target = {};\n  }\n\n  args = args.filter(function (item) {\n    return isPlainObject(item) && Object.keys(item).length;\n  });\n\n  if (args.length < 1) {\n    return target;\n  }\n\n  args.forEach(function (inject, index) {\n    if (isPlainObject(inject)) {\n      var lastArg = false;\n      var last2Arg = null;\n\n      if (index === args.length - 1) {\n        lastArg = true;\n      } else if (index === args.length - 2) {\n        last2Arg = args[index + 1];\n      }\n\n      Object.keys(inject).forEach(function (key) {\n        var src = target[key];\n        var val = inject[key];\n\n        if (isPlainObject(val)) {\n          if (isPlainObject(src)) {\n            target[key] = __deepMerge(lastArg, src, val);\n          } else {\n            target[key] = lastArg || last2Arg && !last2Arg[key] ? val : __deepMerge(lastArg, {}, val);\n          }\n        } else {\n          target[key] = val;\n        }\n      });\n    }\n  });\n  return target;\n}\nexport function warn(str) {\n  if (process.env.NODE_ENV === 'development') {\n    env.console.warn(str);\n  }\n}\nexport function isPromise(data) {\n  return typeof data === 'object' && typeof data.then === 'function';\n}\nexport function isServer() {\n  return env.isServer;\n}\nexport function serverSide(callback) {\n  if (env.isServer) {\n    return callback();\n  }\n\n  return undefined;\n}\nexport function clientSide(callback) {\n  if (!env.isServer) {\n    return callback();\n  }\n\n  return undefined;\n}\nexport function delayPromise(second) {\n  return function (target, key, descriptor) {\n    if (!key && !descriptor) {\n      key = target.key;\n      descriptor = target.descriptor;\n    }\n\n    var fun = descriptor.value;\n\n    descriptor.value = function () {\n      var delay = new Promise(function (resolve) {\n        env.setTimeout(function () {\n          resolve(true);\n        }, second * 1000);\n      });\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return Promise.all([delay, fun.apply(target, args)]).then(function (items) {\n        return items[1];\n      });\n    };\n  };\n}","var root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nexport var env = root;\nenv.isServer = typeof window === 'undefined' && typeof global === 'object' && global.global === global;","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import { env } from './env';\nimport { TaskCounter, deepMerge, warn } from './sprite';\nexport var config = {\n  NSP: '.',\n  MSP: ',',\n  MutableData: false,\n  DepthTimeOnLoading: 2\n};\nexport function setConfig(_config) {\n  _config.NSP !== undefined && (config.NSP = _config.NSP);\n  _config.MSP !== undefined && (config.MSP = _config.MSP);\n  _config.MutableData !== undefined && (config.MutableData = _config.MutableData);\n  _config.DepthTimeOnLoading !== undefined && (config.DepthTimeOnLoading = _config.DepthTimeOnLoading);\n}\nexport var ActionTypes = {\n  MLoading: 'Loading',\n  MInit: 'Init',\n  MReInit: 'ReInit',\n  Error: \"medux\" + config.NSP + \"Error\"\n};\nexport var MetaData = {\n  injectedModules: {},\n  reducersMap: {},\n  effectsMap: {}\n};\n\nfunction transformAction(actionName, handler, listenerModule, actionHandlerMap) {\n  if (!actionHandlerMap[actionName]) {\n    actionHandlerMap[actionName] = {};\n  }\n\n  if (actionHandlerMap[actionName][listenerModule]) {\n    warn(\"Action duplicate or conflict : \" + actionName + \".\");\n  }\n\n  actionHandlerMap[actionName][listenerModule] = handler;\n}\n\nexport function injectActions(moduleName, handlers) {\n  var injectedModules = MetaData.injectedModules;\n\n  if (injectedModules[moduleName]) {\n    return;\n  }\n\n  injectedModules[moduleName] = true;\n\n  for (var actionNames in handlers) {\n    if (typeof handlers[actionNames] === 'function') {\n      (function () {\n        var handler = handlers[actionNames];\n\n        if (handler.__isReducer__ || handler.__isEffect__) {\n          actionNames.split(config.MSP).forEach(function (actionName) {\n            actionName = actionName.trim().replace(new RegExp(\"^this[\" + config.NSP + \"]\"), \"\" + moduleName + config.NSP);\n            var arr = actionName.split(config.NSP);\n\n            if (arr[1]) {\n              transformAction(actionName, handler, moduleName, handler.__isEffect__ ? MetaData.effectsMap : MetaData.reducersMap);\n            } else {\n              transformAction(moduleName + config.NSP + actionName, handler, moduleName, handler.__isEffect__ ? MetaData.effectsMap : MetaData.reducersMap);\n            }\n          });\n        }\n      })();\n    }\n  }\n}\nvar loadings = {};\nexport function setLoading(item, moduleName, groupName) {\n  if (moduleName === void 0) {\n    moduleName = MetaData.appModuleName;\n  }\n\n  if (groupName === void 0) {\n    groupName = 'global';\n  }\n\n  if (env.isServer) {\n    return item;\n  }\n\n  var key = moduleName + config.NSP + groupName;\n\n  if (!loadings[key]) {\n    loadings[key] = new TaskCounter(config.DepthTimeOnLoading);\n    loadings[key].addListener(function (loadingState) {\n      var store = MetaData.clientStore;\n\n      if (store) {\n        var _actions;\n\n        var actions = MetaData.facadeMap[moduleName].actions[ActionTypes.MLoading];\n\n        var _action = actions((_actions = {}, _actions[groupName] = loadingState, _actions));\n\n        store.dispatch(_action);\n      }\n    });\n  }\n\n  loadings[key].addItem(item);\n  return item;\n}\nexport function reducer(target, key, descriptor) {\n  if (!key && !descriptor) {\n    key = target.key;\n    descriptor = target.descriptor;\n  }\n\n  var fun = descriptor.value;\n  fun.__isReducer__ = true;\n  descriptor.enumerable = true;\n  return target.descriptor === descriptor ? target : descriptor;\n}\nexport function effect(loadingForGroupName, loadingForModuleName) {\n  if (loadingForGroupName === undefined) {\n    loadingForGroupName = 'global';\n    loadingForModuleName = MetaData.appModuleName || '';\n  }\n\n  return function (target, key, descriptor) {\n    if (!key && !descriptor) {\n      key = target.key;\n      descriptor = target.descriptor;\n    }\n\n    var fun = descriptor.value;\n    fun.__isEffect__ = true;\n    descriptor.enumerable = true;\n\n    if (loadingForGroupName) {\n      var before = function before(curAction, moduleName, promiseResult) {\n        if (!env.isServer) {\n          if (loadingForModuleName === '') {\n            loadingForModuleName = MetaData.appModuleName;\n          } else if (!loadingForModuleName) {\n            loadingForModuleName = moduleName;\n          }\n\n          setLoading(promiseResult, loadingForModuleName, loadingForGroupName);\n        }\n      };\n\n      if (!fun.__decorators__) {\n        fun.__decorators__ = [];\n      }\n\n      fun.__decorators__.push([before, null]);\n    }\n\n    return target.descriptor === descriptor ? target : descriptor;\n  };\n}\nexport function logger(before, after) {\n  return function (target, key, descriptor) {\n    if (!key && !descriptor) {\n      key = target.key;\n      descriptor = target.descriptor;\n    }\n\n    var fun = descriptor.value;\n\n    if (!fun.__decorators__) {\n      fun.__decorators__ = [];\n    }\n\n    fun.__decorators__.push([before, after]);\n  };\n}\nexport function deepMergeState(target) {\n  if (target === void 0) {\n    target = {};\n  }\n\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  if (config.MutableData) {\n    return deepMerge.apply(void 0, [target].concat(args));\n  }\n\n  return deepMerge.apply(void 0, [{}, target].concat(args));\n}\nexport function mergeState(target) {\n  if (target === void 0) {\n    target = {};\n  }\n\n  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n\n  if (config.MutableData) {\n    return Object.assign.apply(Object, [target].concat(args));\n  }\n\n  return Object.assign.apply(Object, [{}, target].concat(args));\n}","import { ActionTypes, config } from './basic';\nexport function errorAction(error) {\n  return {\n    type: ActionTypes.Error,\n    payload: [error]\n  };\n}\nexport function moduleInitAction(moduleName, initState) {\n  return {\n    type: \"\" + moduleName + config.NSP + ActionTypes.MInit,\n    payload: [initState]\n  };\n}\nexport function moduleReInitAction(moduleName, initState) {\n  return {\n    type: \"\" + moduleName + config.NSP + ActionTypes.MReInit,\n    payload: [initState]\n  };\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"@babel/runtime/helpers/typeof\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import _typeof from \"@babel/runtime/helpers/typeof\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (hint === \"string\" ? String : Number)(input);\n}","import toArray from \"./toArray.js\";\nimport toPropertyKey from \"./toPropertyKey.js\";\nexport default function _decorate(decorators, factory, superClass, mixins) {\n  var api = _getDecoratorsApi();\n\n  if (mixins) {\n    for (var i = 0; i < mixins.length; i++) {\n      api = mixins[i](api);\n    }\n  }\n\n  var r = factory(function initialize(O) {\n    api.initializeInstanceElements(O, decorated.elements);\n  }, superClass);\n  var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators);\n  api.initializeClassElements(r.F, decorated.elements);\n  return api.runClassFinishers(r.F, decorated.finishers);\n}\n\nfunction _getDecoratorsApi() {\n  _getDecoratorsApi = function _getDecoratorsApi() {\n    return api;\n  };\n\n  var api = {\n    elementsDefinitionOrder: [[\"method\"], [\"field\"]],\n    initializeInstanceElements: function initializeInstanceElements(O, elements) {\n      [\"method\", \"field\"].forEach(function (kind) {\n        elements.forEach(function (element) {\n          if (element.kind === kind && element.placement === \"own\") {\n            this.defineClassElement(O, element);\n          }\n        }, this);\n      }, this);\n    },\n    initializeClassElements: function initializeClassElements(F, elements) {\n      var proto = F.prototype;\n      [\"method\", \"field\"].forEach(function (kind) {\n        elements.forEach(function (element) {\n          var placement = element.placement;\n\n          if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) {\n            var receiver = placement === \"static\" ? F : proto;\n            this.defineClassElement(receiver, element);\n          }\n        }, this);\n      }, this);\n    },\n    defineClassElement: function defineClassElement(receiver, element) {\n      var descriptor = element.descriptor;\n\n      if (element.kind === \"field\") {\n        var initializer = element.initializer;\n        descriptor = {\n          enumerable: descriptor.enumerable,\n          writable: descriptor.writable,\n          configurable: descriptor.configurable,\n          value: initializer === void 0 ? void 0 : initializer.call(receiver)\n        };\n      }\n\n      Object.defineProperty(receiver, element.key, descriptor);\n    },\n    decorateClass: function decorateClass(elements, decorators) {\n      var newElements = [];\n      var finishers = [];\n      var placements = {\n        \"static\": [],\n        prototype: [],\n        own: []\n      };\n      elements.forEach(function (element) {\n        this.addElementPlacement(element, placements);\n      }, this);\n      elements.forEach(function (element) {\n        if (!_hasDecorators(element)) return newElements.push(element);\n        var elementFinishersExtras = this.decorateElement(element, placements);\n        newElements.push(elementFinishersExtras.element);\n        newElements.push.apply(newElements, elementFinishersExtras.extras);\n        finishers.push.apply(finishers, elementFinishersExtras.finishers);\n      }, this);\n\n      if (!decorators) {\n        return {\n          elements: newElements,\n          finishers: finishers\n        };\n      }\n\n      var result = this.decorateConstructor(newElements, decorators);\n      finishers.push.apply(finishers, result.finishers);\n      result.finishers = finishers;\n      return result;\n    },\n    addElementPlacement: function addElementPlacement(element, placements, silent) {\n      var keys = placements[element.placement];\n\n      if (!silent && keys.indexOf(element.key) !== -1) {\n        throw new TypeError(\"Duplicated element (\" + element.key + \")\");\n      }\n\n      keys.push(element.key);\n    },\n    decorateElement: function decorateElement(element, placements) {\n      var extras = [];\n      var finishers = [];\n\n      for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) {\n        var keys = placements[element.placement];\n        keys.splice(keys.indexOf(element.key), 1);\n        var elementObject = this.fromElementDescriptor(element);\n        var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject);\n        element = elementFinisherExtras.element;\n        this.addElementPlacement(element, placements);\n\n        if (elementFinisherExtras.finisher) {\n          finishers.push(elementFinisherExtras.finisher);\n        }\n\n        var newExtras = elementFinisherExtras.extras;\n\n        if (newExtras) {\n          for (var j = 0; j < newExtras.length; j++) {\n            this.addElementPlacement(newExtras[j], placements);\n          }\n\n          extras.push.apply(extras, newExtras);\n        }\n      }\n\n      return {\n        element: element,\n        finishers: finishers,\n        extras: extras\n      };\n    },\n    decorateConstructor: function decorateConstructor(elements, decorators) {\n      var finishers = [];\n\n      for (var i = decorators.length - 1; i >= 0; i--) {\n        var obj = this.fromClassDescriptor(elements);\n        var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj);\n\n        if (elementsAndFinisher.finisher !== undefined) {\n          finishers.push(elementsAndFinisher.finisher);\n        }\n\n        if (elementsAndFinisher.elements !== undefined) {\n          elements = elementsAndFinisher.elements;\n\n          for (var j = 0; j < elements.length - 1; j++) {\n            for (var k = j + 1; k < elements.length; k++) {\n              if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) {\n                throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\");\n              }\n            }\n          }\n        }\n      }\n\n      return {\n        elements: elements,\n        finishers: finishers\n      };\n    },\n    fromElementDescriptor: function fromElementDescriptor(element) {\n      var obj = {\n        kind: element.kind,\n        key: element.key,\n        placement: element.placement,\n        descriptor: element.descriptor\n      };\n      var desc = {\n        value: \"Descriptor\",\n        configurable: true\n      };\n      Object.defineProperty(obj, Symbol.toStringTag, desc);\n      if (element.kind === \"field\") obj.initializer = element.initializer;\n      return obj;\n    },\n    toElementDescriptors: function toElementDescriptors(elementObjects) {\n      if (elementObjects === undefined) return;\n      return toArray(elementObjects).map(function (elementObject) {\n        var element = this.toElementDescriptor(elementObject);\n        this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\");\n        this.disallowProperty(elementObject, \"extras\", \"An element descriptor\");\n        return element;\n      }, this);\n    },\n    toElementDescriptor: function toElementDescriptor(elementObject) {\n      var kind = String(elementObject.kind);\n\n      if (kind !== \"method\" && kind !== \"field\") {\n        throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"');\n      }\n\n      var key = toPropertyKey(elementObject.key);\n      var placement = String(elementObject.placement);\n\n      if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") {\n        throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"');\n      }\n\n      var descriptor = elementObject.descriptor;\n      this.disallowProperty(elementObject, \"elements\", \"An element descriptor\");\n      var element = {\n        kind: kind,\n        key: key,\n        placement: placement,\n        descriptor: Object.assign({}, descriptor)\n      };\n\n      if (kind !== \"field\") {\n        this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\");\n      } else {\n        this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\");\n        this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\");\n        this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\");\n        element.initializer = elementObject.initializer;\n      }\n\n      return element;\n    },\n    toElementFinisherExtras: function toElementFinisherExtras(elementObject) {\n      var element = this.toElementDescriptor(elementObject);\n\n      var finisher = _optionalCallableProperty(elementObject, \"finisher\");\n\n      var extras = this.toElementDescriptors(elementObject.extras);\n      return {\n        element: element,\n        finisher: finisher,\n        extras: extras\n      };\n    },\n    fromClassDescriptor: function fromClassDescriptor(elements) {\n      var obj = {\n        kind: \"class\",\n        elements: elements.map(this.fromElementDescriptor, this)\n      };\n      var desc = {\n        value: \"Descriptor\",\n        configurable: true\n      };\n      Object.defineProperty(obj, Symbol.toStringTag, desc);\n      return obj;\n    },\n    toClassDescriptor: function toClassDescriptor(obj) {\n      var kind = String(obj.kind);\n\n      if (kind !== \"class\") {\n        throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"');\n      }\n\n      this.disallowProperty(obj, \"key\", \"A class descriptor\");\n      this.disallowProperty(obj, \"placement\", \"A class descriptor\");\n      this.disallowProperty(obj, \"descriptor\", \"A class descriptor\");\n      this.disallowProperty(obj, \"initializer\", \"A class descriptor\");\n      this.disallowProperty(obj, \"extras\", \"A class descriptor\");\n\n      var finisher = _optionalCallableProperty(obj, \"finisher\");\n\n      var elements = this.toElementDescriptors(obj.elements);\n      return {\n        elements: elements,\n        finisher: finisher\n      };\n    },\n    runClassFinishers: function runClassFinishers(constructor, finishers) {\n      for (var i = 0; i < finishers.length; i++) {\n        var newConstructor = (0, finishers[i])(constructor);\n\n        if (newConstructor !== undefined) {\n          if (typeof newConstructor !== \"function\") {\n            throw new TypeError(\"Finishers must return a constructor.\");\n          }\n\n          constructor = newConstructor;\n        }\n      }\n\n      return constructor;\n    },\n    disallowProperty: function disallowProperty(obj, name, objectType) {\n      if (obj[name] !== undefined) {\n        throw new TypeError(objectType + \" can't have a .\" + name + \" property.\");\n      }\n    }\n  };\n  return api;\n}\n\nfunction _createElementDescriptor(def) {\n  var key = toPropertyKey(def.key);\n  var descriptor;\n\n  if (def.kind === \"method\") {\n    descriptor = {\n      value: def.value,\n      writable: true,\n      configurable: true,\n      enumerable: false\n    };\n  } else if (def.kind === \"get\") {\n    descriptor = {\n      get: def.value,\n      configurable: true,\n      enumerable: false\n    };\n  } else if (def.kind === \"set\") {\n    descriptor = {\n      set: def.value,\n      configurable: true,\n      enumerable: false\n    };\n  } else if (def.kind === \"field\") {\n    descriptor = {\n      configurable: true,\n      writable: true,\n      enumerable: true\n    };\n  }\n\n  var element = {\n    kind: def.kind === \"field\" ? \"field\" : \"method\",\n    key: key,\n    placement: def[\"static\"] ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\",\n    descriptor: descriptor\n  };\n  if (def.decorators) element.decorators = def.decorators;\n  if (def.kind === \"field\") element.initializer = def.value;\n  return element;\n}\n\nfunction _coalesceGetterSetter(element, other) {\n  if (element.descriptor.get !== undefined) {\n    other.descriptor.get = element.descriptor.get;\n  } else {\n    other.descriptor.set = element.descriptor.set;\n  }\n}\n\nfunction _coalesceClassElements(elements) {\n  var newElements = [];\n\n  var isSameElement = function isSameElement(other) {\n    return other.kind === \"method\" && other.key === element.key && other.placement === element.placement;\n  };\n\n  for (var i = 0; i < elements.length; i++) {\n    var element = elements[i];\n    var other;\n\n    if (element.kind === \"method\" && (other = newElements.find(isSameElement))) {\n      if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) {\n        if (_hasDecorators(element) || _hasDecorators(other)) {\n          throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\");\n        }\n\n        other.descriptor = element.descriptor;\n      } else {\n        if (_hasDecorators(element)) {\n          if (_hasDecorators(other)) {\n            throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\");\n          }\n\n          other.decorators = element.decorators;\n        }\n\n        _coalesceGetterSetter(element, other);\n      }\n    } else {\n      newElements.push(element);\n    }\n  }\n\n  return newElements;\n}\n\nfunction _hasDecorators(element) {\n  return element.decorators && element.decorators.length;\n}\n\nfunction _isDataDescriptor(desc) {\n  return desc !== undefined && !(desc.value === undefined && desc.writable === undefined);\n}\n\nfunction _optionalCallableProperty(obj, name) {\n  var value = obj[name];\n\n  if (value !== undefined && typeof value !== \"function\") {\n    throw new TypeError(\"Expected '\" + name + \"' to be a function\");\n  }\n\n  return value;\n}","import _decorate from \"@babel/runtime/helpers/esm/decorate\";\nimport { env } from './env';\nimport { isPromise } from './sprite';\nimport { injectActions, MetaData, config, reducer, mergeState } from './basic';\nimport { moduleInitAction, moduleReInitAction } from './actions';\nexport var exportModule = function exportModule(moduleName, ModuleHandles, views) {\n  var model = function model(store) {\n    if (!store.injectedModules[moduleName]) {\n      var moduleHandles = new ModuleHandles();\n      store.injectedModules[moduleName] = moduleHandles;\n      moduleHandles.moduleName = moduleName;\n      moduleHandles.store = store;\n      moduleHandles.actions = MetaData.facadeMap[moduleName].actions;\n      injectActions(moduleName, moduleHandles);\n      var _initState = moduleHandles.initState;\n      var preModuleState = store.getState(moduleName);\n\n      if (preModuleState) {\n        return store.dispatch(moduleReInitAction(moduleName, _initState));\n      }\n\n      return store.dispatch(moduleInitAction(moduleName, _initState));\n    }\n\n    return undefined;\n  };\n\n  return {\n    moduleName: moduleName,\n    model: model,\n    views: views,\n    initState: undefined,\n    actions: undefined\n  };\n};\nexport function cacheModule(module) {\n  var moduleName = module.default.moduleName;\n  var moduleGetter = MetaData.moduleGetter;\n  var fn = moduleGetter[moduleName];\n\n  if (fn.__module__ === module) {\n    return fn;\n  }\n\n  fn = function fn() {\n    return module;\n  };\n\n  fn.__module__ = module;\n  moduleGetter[moduleName] = fn;\n  return fn;\n}\nexport function getModuleByName(moduleName) {\n  var result = MetaData.moduleGetter[moduleName]();\n\n  if (isPromise(result)) {\n    return result.then(function (module) {\n      cacheModule(module);\n      return module;\n    });\n  }\n\n  cacheModule(result);\n  return result;\n}\nexport function getView(moduleName, viewName) {\n  var callback = function callback(module) {\n    var view = module.default.views[viewName];\n\n    if (env.isServer) {\n      return view;\n    }\n\n    module.default.model(MetaData.clientStore);\n    return view;\n  };\n\n  var moduleOrPromise = getModuleByName(moduleName);\n\n  if (isPromise(moduleOrPromise)) {\n    return moduleOrPromise.then(callback);\n  }\n\n  return callback(moduleOrPromise);\n}\n\nfunction _loadModel(moduleName, controller) {\n  var moduleOrPromise = getModuleByName(moduleName);\n\n  if (isPromise(moduleOrPromise)) {\n    return moduleOrPromise.then(function (module) {\n      return module.default.model(controller);\n    });\n  }\n\n  return moduleOrPromise.default.model(controller);\n}\n\nexport { _loadModel as loadModel };\nexport var CoreModuleHandlers = _decorate(null, function (_initialize) {\n  var CoreModuleHandlers = function CoreModuleHandlers(initState) {\n    _initialize(this);\n\n    this.initState = initState;\n  };\n\n  return {\n    F: CoreModuleHandlers,\n    d: [{\n      kind: \"field\",\n      key: \"actions\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"store\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"moduleName\",\n      value: function value() {\n        return '';\n      }\n    }, {\n      kind: \"get\",\n      key: \"state\",\n      value: function state() {\n        return this.store.getState(this.moduleName);\n      }\n    }, {\n      kind: \"get\",\n      key: \"rootState\",\n      value: function rootState() {\n        return this.store.getState();\n      }\n    }, {\n      kind: \"method\",\n      key: \"getCurrentActionName\",\n      value: function getCurrentActionName() {\n        return this.store.getCurrentActionName();\n      }\n    }, {\n      kind: \"get\",\n      key: \"currentRootState\",\n      value: function currentRootState() {\n        return this.store.getCurrentState();\n      }\n    }, {\n      kind: \"get\",\n      key: \"currentState\",\n      value: function currentState() {\n        return this.store.getCurrentState(this.moduleName);\n      }\n    }, {\n      kind: \"method\",\n      key: \"dispatch\",\n      value: function dispatch(action) {\n        return this.store.dispatch(action);\n      }\n    }, {\n      kind: \"method\",\n      key: \"loadModel\",\n      value: function loadModel(moduleName) {\n        return _loadModel(moduleName, this.store);\n      }\n    }, {\n      kind: \"method\",\n      decorators: [reducer],\n      key: \"Init\",\n      value: function Init(initState) {\n        return initState;\n      }\n    }, {\n      kind: \"method\",\n      decorators: [reducer],\n      key: \"Update\",\n      value: function Update(payload, key) {\n        return mergeState(this.state, payload);\n      }\n    }, {\n      kind: \"method\",\n      decorators: [reducer],\n      key: \"Loading\",\n      value: function Loading(payload) {\n        var loading = mergeState(this.state.loading, payload);\n        return mergeState(this.state, {\n          loading: loading\n        });\n      }\n    }]\n  };\n});\n\nfunction clearHandlers(moduleName, actionHandlerMap) {\n  for (var _actionName in actionHandlerMap) {\n    if (actionHandlerMap.hasOwnProperty(_actionName)) {\n      var maps = actionHandlerMap[_actionName];\n      delete maps[moduleName];\n    }\n  }\n}\n\nexport function modelHotReplacement(moduleName, ModuleHandles) {\n  var store = MetaData.clientStore;\n\n  if (store.injectedModules[moduleName]) {\n    clearHandlers(moduleName, MetaData.reducersMap);\n    clearHandlers(moduleName, MetaData.effectsMap);\n    var moduleHandles = new ModuleHandles();\n    store.injectedModules[moduleName] = moduleHandles;\n    moduleHandles.moduleName = moduleName;\n    moduleHandles.store = store;\n    moduleHandles.actions = MetaData.facadeMap[moduleName].actions;\n    injectActions(moduleName, moduleHandles);\n    env.console.log(\"[HMR] @medux Updated model: \" + moduleName);\n  }\n}\nexport function getRootModuleAPI(data) {\n  if (!MetaData.facadeMap) {\n    if (data) {\n      MetaData.facadeMap = Object.keys(data).reduce(function (prev, moduleName) {\n        var arr = data[moduleName];\n        var actions = {};\n        var actionNames = {};\n        arr.forEach(function (actionName) {\n          actions[actionName] = function () {\n            for (var _len = arguments.length, payload = new Array(_len), _key = 0; _key < _len; _key++) {\n              payload[_key] = arguments[_key];\n            }\n\n            return {\n              type: moduleName + config.NSP + actionName,\n              payload: payload\n            };\n          };\n\n          actionNames[actionName] = moduleName + config.NSP + actionName;\n        });\n        var moduleFacade = {\n          name: moduleName,\n          actions: actions,\n          actionNames: actionNames\n        };\n        prev[moduleName] = moduleFacade;\n        return prev;\n      }, {});\n    } else {\n      var cacheData = {};\n      MetaData.facadeMap = new Proxy({}, {\n        set: function set(target, moduleName, val, receiver) {\n          return Reflect.set(target, moduleName, val, receiver);\n        },\n        get: function get(target, moduleName, receiver) {\n          var val = Reflect.get(target, moduleName, receiver);\n\n          if (val !== undefined) {\n            return val;\n          }\n\n          if (!cacheData[moduleName]) {\n            cacheData[moduleName] = {\n              name: moduleName,\n              actionNames: new Proxy({}, {\n                get: function get(__, actionName) {\n                  return moduleName + config.NSP + actionName;\n                }\n              }),\n              actions: new Proxy({}, {\n                get: function get(__, actionName) {\n                  return function () {\n                    for (var _len2 = arguments.length, payload = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                      payload[_key2] = arguments[_key2];\n                    }\n\n                    return {\n                      type: moduleName + config.NSP + actionName,\n                      payload: payload\n                    };\n                  };\n                }\n              })\n            };\n          }\n\n          return cacheData[moduleName];\n        }\n      });\n    }\n  }\n\n  return MetaData.facadeMap;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { env } from './env';\nimport { isPromise } from './sprite';\nimport { ActionTypes, config, MetaData } from './basic';\nimport { errorAction } from './actions';\nimport { loadModel } from './inject';\nexport function isProcessedError(error) {\n  return error && !!error.__meduxProcessed__;\n}\nexport function setProcessedError(error, meduxProcessed) {\n  if (typeof error !== 'object') {\n    error = {\n      message: error\n    };\n  }\n\n  Object.defineProperty(error, '__meduxProcessed__', {\n    value: meduxProcessed,\n    enumerable: false,\n    writable: true\n  });\n  return error;\n}\nexport function getActionData(action) {\n  return Array.isArray(action.payload) ? action.payload : [];\n}\n\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\nexport function enhanceStore(baseStore, middlewares) {\n  var store = baseStore;\n  var _getState = baseStore.getState;\n\n  var getState = function getState(moduleName) {\n    var state = _getState();\n\n    return moduleName ? state[moduleName] : state;\n  };\n\n  store.getState = getState;\n  var injectedModules = {};\n  store.injectedModules = injectedModules;\n  var currentData = {\n    actionName: '',\n    prevState: {}\n  };\n  var update = baseStore.update;\n\n  store.getCurrentActionName = function () {\n    return currentData.actionName;\n  };\n\n  store.getCurrentState = function (moduleName) {\n    var state = currentData.prevState;\n    return moduleName ? state[moduleName] : state;\n  };\n\n  var _dispatch2 = function dispatch(action) {\n    throw new Error('Dispatching while constructing your middleware is not allowed. ');\n  };\n\n  var middlewareAPI = {\n    getState: getState,\n    dispatch: function dispatch(action) {\n      return _dispatch2(action);\n    }\n  };\n\n  var preMiddleware = function preMiddleware() {\n    return function (next) {\n      return function (action) {\n        if (action.type === ActionTypes.Error) {\n          var error = getActionData(action)[0];\n          setProcessedError(error, true);\n        }\n\n        var _action$type$split = action.type.split(config.NSP),\n            moduleName = _action$type$split[0],\n            actionName = _action$type$split[1];\n\n        if (env.isServer && actionName === ActionTypes.MLoading) {\n          return undefined;\n        }\n\n        if (moduleName && actionName && MetaData.moduleGetter[moduleName]) {\n          if (!injectedModules[moduleName]) {\n            var result = loadModel(moduleName, store);\n\n            if (isPromise(result)) {\n              return result.then(function () {\n                return next(action);\n              });\n            }\n          }\n        }\n\n        return next(action);\n      };\n    };\n  };\n\n  function applyEffect(moduleName, handler, modelInstance, action, actionData) {\n    var effectResult = handler.apply(modelInstance, actionData);\n    var decorators = handler.__decorators__;\n\n    if (decorators) {\n      var results = [];\n      decorators.forEach(function (decorator, index) {\n        results[index] = decorator[0](action, moduleName, effectResult);\n      });\n      handler.__decoratorResults__ = results;\n    }\n\n    return effectResult.then(function (reslove) {\n      if (decorators) {\n        var _results = handler.__decoratorResults__ || [];\n\n        decorators.forEach(function (decorator, index) {\n          if (decorator[1]) {\n            decorator[1]('Resolved', _results[index], reslove);\n          }\n        });\n        handler.__decoratorResults__ = undefined;\n      }\n\n      return reslove;\n    }, function (error) {\n      if (decorators) {\n        var _results2 = handler.__decoratorResults__ || [];\n\n        decorators.forEach(function (decorator, index) {\n          if (decorator[1]) {\n            decorator[1]('Rejected', _results2[index], error);\n          }\n        });\n        handler.__decoratorResults__ = undefined;\n      }\n\n      if (isProcessedError(error)) {\n        throw error;\n      } else {\n        return _dispatch2(errorAction(setProcessedError(error, false)));\n      }\n    });\n  }\n\n  function respondHandler(action, isReducer, prevData) {\n    var handlersMap = isReducer ? MetaData.reducersMap : MetaData.effectsMap;\n    var actionName = action.type;\n\n    var _actionName$split = actionName.split(config.NSP),\n        actionModuleName = _actionName$split[0];\n\n    var commonHandlers = handlersMap[action.type];\n    var universalActionType = actionName.replace(new RegExp(\"[^\" + config.NSP + \"]+\"), '*');\n    var universalHandlers = handlersMap[universalActionType];\n\n    var handlers = _extends({}, commonHandlers, universalHandlers);\n\n    var handlerModuleNames = Object.keys(handlers);\n\n    if (handlerModuleNames.length > 0) {\n      var orderList = [];\n      handlerModuleNames.forEach(function (moduleName) {\n        if (moduleName === MetaData.appModuleName) {\n          orderList.unshift(moduleName);\n        } else if (moduleName === actionModuleName) {\n          orderList.unshift(moduleName);\n        } else {\n          orderList.push(moduleName);\n        }\n      });\n\n      if (action.priority) {\n        orderList.unshift.apply(orderList, action.priority);\n      }\n\n      var implemented = {};\n      var actionData = getActionData(action);\n\n      if (isReducer) {\n        Object.assign(currentData, prevData);\n        var newState = {};\n        orderList.forEach(function (moduleName) {\n          if (!implemented[moduleName]) {\n            implemented[moduleName] = true;\n            var handler = handlers[moduleName];\n            var modelInstance = injectedModules[moduleName];\n            newState[moduleName] = handler.apply(modelInstance, actionData);\n          }\n        });\n        update(actionName, newState, actionData);\n      } else {\n        var result = [];\n        orderList.forEach(function (moduleName) {\n          if (!implemented[moduleName]) {\n            implemented[moduleName] = true;\n            var handler = handlers[moduleName];\n            var modelInstance = injectedModules[moduleName];\n            Object.assign(currentData, prevData);\n            result.push(applyEffect(moduleName, handler, modelInstance, action, actionData));\n          }\n        });\n        return result.length === 1 ? result[0] : Promise.all(result);\n      }\n    }\n\n    return undefined;\n  }\n\n  function _dispatch(action) {\n    var prevData = {\n      actionName: action.type,\n      prevState: getState()\n    };\n    respondHandler(action, true, prevData);\n    return respondHandler(action, false, prevData);\n  }\n\n  var arr = middlewares ? [preMiddleware].concat(middlewares) : [preMiddleware];\n  var chain = arr.map(function (middleware) {\n    return middleware(middlewareAPI);\n  });\n  _dispatch2 = compose.apply(void 0, chain)(_dispatch);\n  store.dispatch = _dispatch2;\n  return store;\n}","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { MetaData } from './basic';\nimport { getModuleByName, loadModel } from './inject';\nimport { enhanceStore } from './store';\nimport { env } from './env';\n\nvar reRender = function reRender() {\n  return undefined;\n};\n\nvar reRenderTimer = 0;\nvar appView = null;\nexport function viewHotReplacement(moduleName, views) {\n  var module = MetaData.moduleGetter[moduleName]();\n\n  if (module) {\n    module.default.views = views;\n    env.console.warn(\"[HMR] @medux Updated views: \" + moduleName);\n    appView = MetaData.moduleGetter[MetaData.appModuleName]().default.views[MetaData.appViewName];\n\n    if (!reRenderTimer) {\n      reRenderTimer = env.setTimeout(function () {\n        reRenderTimer = 0;\n        reRender(appView);\n        env.console.warn(\"[HMR] @medux view re rendering\");\n      }, 0);\n    }\n  } else {\n    throw 'views cannot apply update for HMR.';\n  }\n}\n\nvar defFun = function defFun() {\n  return undefined;\n};\n\nexport function renderApp(baseStore, preLoadModules, moduleGetter, middlewares, appModuleName, appViewName) {\n  if (appModuleName === void 0) {\n    appModuleName = 'app';\n  }\n\n  if (appViewName === void 0) {\n    appViewName = 'main';\n  }\n\n  MetaData.appModuleName = appModuleName;\n  MetaData.appViewName = appViewName;\n\n  if (!MetaData.moduleGetter) {\n    MetaData.moduleGetter = moduleGetter;\n  }\n\n  var store = enhanceStore(baseStore, middlewares);\n  preLoadModules = preLoadModules.filter(function (item) {\n    return moduleGetter[item] && item !== appModuleName;\n  });\n  return {\n    store: store,\n    beforeRender: function beforeRender() {\n      return _asyncToGenerator(_regeneratorRuntime.mark(function _callee() {\n        var appModule;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (reRenderTimer) {\n                  env.clearTimeout(reRenderTimer);\n                  reRenderTimer = 0;\n                }\n\n                MetaData.clientStore = store;\n                _context.next = 4;\n                return loadModel(appModuleName, store);\n\n              case 4:\n                _context.next = 6;\n                return Promise.all(preLoadModules.map(function (moduleName) {\n                  return loadModel(moduleName, store);\n                }));\n\n              case 6:\n                appModule = getModuleByName(appModuleName);\n                return _context.abrupt(\"return\", {\n                  appView: appModule.default.views[appViewName],\n                  setReRender: function setReRender(hotRender) {\n                    reRender = hotRender;\n                  }\n                });\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    }\n  };\n}\nexport function ssrApp(baseStore, preLoadModules, moduleGetter, middlewares, appModuleName, appViewName) {\n  if (appModuleName === void 0) {\n    appModuleName = 'app';\n  }\n\n  if (appViewName === void 0) {\n    appViewName = 'main';\n  }\n\n  MetaData.appModuleName = appModuleName;\n  MetaData.appViewName = appViewName;\n\n  if (!MetaData.moduleGetter) {\n    MetaData.moduleGetter = moduleGetter;\n  }\n\n  var store = enhanceStore(baseStore, middlewares);\n  preLoadModules = preLoadModules.filter(function (item) {\n    return moduleGetter[item] && item !== appModuleName;\n  });\n  return {\n    store: store,\n    beforeRender: function beforeRender() {\n      return _asyncToGenerator(_regeneratorRuntime.mark(function _callee2() {\n        var appModule;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return loadModel(appModuleName, store);\n\n              case 2:\n                _context2.next = 4;\n                return Promise.all(preLoadModules.map(function (moduleName) {\n                  return loadModel(moduleName, store);\n                }));\n\n              case 4:\n                appModule = getModuleByName(appModuleName);\n                store.dispatch = defFun;\n                return _context2.abrupt(\"return\", {\n                  appView: appModule.default.views[appViewName]\n                });\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    }\n  };\n}","/* eslint-disable no-nested-ternary */\n/// <reference path=\"../env/global.d.ts\" />\nimport {env} from '@medux/core';\n\ndeclare const btoa: any;\ndeclare const atob: any;\ndeclare const Buffer: any;\n\nenv.encodeBas64 = function (str: string) {\n  if (!str) {\n    return '';\n  }\n  return typeof btoa === 'function' ? btoa(str) : typeof Buffer !== 'undefined' ? Buffer.from(str).toString('base64') : str;\n};\nenv.decodeBas64 = function (str: string) {\n  if (!str) {\n    return '';\n  }\n  return typeof atob === 'function' ? atob(str) : typeof Buffer !== 'undefined' ? Buffer.from(str, 'base64').toString() : str;\n};\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nexport var routeConfig = {\n  actionMaxHistory: 10,\n  pagesMaxHistory: 10,\n  pagenames: {},\n  defaultParams: {},\n  disableNativeRoute: false,\n  indexUrl: ''\n};\nexport function setRouteConfig(conf) {\n  conf.actionMaxHistory && (routeConfig.actionMaxHistory = conf.actionMaxHistory);\n  conf.pagesMaxHistory && (routeConfig.pagesMaxHistory = conf.pagesMaxHistory);\n  conf.disableNativeRoute && (routeConfig.disableNativeRoute = true);\n  conf.pagenames && (routeConfig.pagenames = conf.pagenames);\n  conf.indexUrl && (routeConfig.indexUrl = conf.indexUrl);\n}\n\nfunction splitQuery(query) {\n  return (query || '').split('&').reduce(function (params, str) {\n    var sections = str.split('=');\n\n    if (sections.length > 1) {\n      var _key = sections[0],\n          arr = sections.slice(1);\n\n      if (!params) {\n        params = {};\n      }\n\n      params[_key] = decodeURIComponent(arr.join('='));\n    }\n\n    return params;\n  }, undefined);\n}\n\nfunction joinQuery(params) {\n  return Object.keys(params || {}).map(function (key) {\n    return key + \"=\" + encodeURIComponent(params[key]);\n  }).join('&');\n}\n\nexport function nativeUrlToNativeLocation(url) {\n  if (!url) {\n    return {\n      pathname: '/',\n      searchData: undefined,\n      hashData: undefined\n    };\n  }\n\n  var arr = url.split(/[?#]/);\n\n  if (arr.length === 2 && url.indexOf('?') < 0) {\n    arr.splice(1, 0, '');\n  }\n\n  var path = arr[0],\n      search = arr[1],\n      hash = arr[2];\n  return {\n    pathname: \"/\" + path.replace(/^\\/+|\\/+$/g, ''),\n    searchData: splitQuery(search),\n    hashData: splitQuery(hash)\n  };\n}\nexport function nativeLocationToNativeUrl(_ref) {\n  var pathname = _ref.pathname,\n      searchData = _ref.searchData,\n      hashData = _ref.hashData;\n  var search = joinQuery(searchData);\n  var hash = joinQuery(hashData);\n  return [\"/\" + pathname.replace(/^\\/+|\\/+$/g, ''), search && \"?\" + search, hash && \"#\" + hash].join('');\n}\nexport function locationToUri(location, key) {\n  var pagename = location.pagename,\n      params = location.params;\n  var query = params ? JSON.stringify(params) : '';\n  return {\n    uri: [key, pagename, query].join('|'),\n    pagename: pagename,\n    query: query,\n    key: key\n  };\n}\n\nfunction splitUri() {\n  for (var _len = arguments.length, args = new Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  var _args$ = args[0],\n      uri = _args$ === void 0 ? '' : _args$,\n      name = args[1];\n\n  var _uri$split = uri.split('|'),\n      key = _uri$split[0],\n      pagename = _uri$split[1],\n      others = _uri$split.slice(2);\n\n  var arr = [key, pagename, others.join('|')];\n  var index = {\n    key: 0,\n    pagename: 1,\n    query: 2\n  };\n\n  if (name) {\n    return arr[index[name]];\n  }\n\n  return arr;\n}\n\nexport function uriToLocation(uri) {\n  var _splitUri = splitUri(uri),\n      key = _splitUri[0],\n      pagename = _splitUri[1],\n      query = _splitUri[2];\n\n  var location = {\n    pagename: pagename,\n    params: JSON.parse(query)\n  };\n  return {\n    key: key,\n    location: location\n  };\n}\n\nfunction isHistoryRecord(data) {\n  return data['uri'];\n}\n\nexport var History = function () {\n  function History(data, parent) {\n    _defineProperty(this, \"curRecord\", void 0);\n\n    _defineProperty(this, \"pages\", []);\n\n    _defineProperty(this, \"actions\", []);\n\n    this.parent = parent;\n\n    if (isHistoryRecord(data)) {\n      this.curRecord = data;\n    } else {\n      var _locationToUri = locationToUri(data.location, data.key),\n          _uri = _locationToUri.uri,\n          pagename = _locationToUri.pagename,\n          query = _locationToUri.query;\n\n      this.curRecord = {\n        uri: _uri,\n        pagename: pagename,\n        query: query,\n        key: data.key,\n        sub: new History({\n          uri: _uri,\n          pagename: pagename,\n          query: query,\n          key: data.key\n        }, this)\n      };\n    }\n  }\n\n  var _proto = History.prototype;\n\n  _proto.getLength = function getLength() {\n    return this.actions.length;\n  };\n\n  _proto.getRecord = function getRecord(keyOrIndex) {\n    if (typeof keyOrIndex === 'number') {\n      if (keyOrIndex === -1) {\n        keyOrIndex = this.actions.length - 1;\n      }\n\n      return this.actions[keyOrIndex];\n    }\n\n    return this.actions.find(function (item) {\n      return item.key === keyOrIndex;\n    });\n  };\n\n  _proto.findIndex = function findIndex(key) {\n    return this.actions.findIndex(function (item) {\n      return item.key === key;\n    });\n  };\n\n  _proto.getCurrentInternalHistory = function getCurrentInternalHistory() {\n    return this.curRecord.sub;\n  };\n\n  _proto.getStack = function getStack() {\n    return this.actions;\n  };\n\n  _proto.getUriStack = function getUriStack() {\n    return this.actions.map(function (item) {\n      return item.uri;\n    });\n  };\n\n  _proto.getPageStack = function getPageStack() {\n    return this.pages;\n  };\n\n  _proto.push = function push(location, key) {\n    var _pages$;\n\n    var historyRecord = this.curRecord;\n\n    var _locationToUri2 = locationToUri(location, key),\n        uri = _locationToUri2.uri,\n        pagename = _locationToUri2.pagename,\n        query = _locationToUri2.query;\n\n    this.curRecord = {\n      uri: uri,\n      pagename: pagename,\n      query: query,\n      key: key,\n      sub: new History({\n        uri: uri,\n        pagename: pagename,\n        query: query,\n        key: key\n      }, this)\n    };\n    var pages = [].concat(this.pages);\n    var actions = [].concat(this.actions);\n    var actionsMax = routeConfig.actionMaxHistory;\n    var pagesMax = routeConfig.pagesMaxHistory;\n    actions.unshift(historyRecord);\n\n    if (actions.length > actionsMax) {\n      actions.length = actionsMax;\n    }\n\n    if (splitUri((_pages$ = pages[0]) == null ? void 0 : _pages$.uri, 'pagename') !== pagename) {\n      pages.unshift(historyRecord);\n\n      if (pages.length > pagesMax) {\n        pages.length = pagesMax;\n      }\n    } else {\n      pages[0] = historyRecord;\n    }\n\n    this.actions = actions;\n    this.pages = pages;\n\n    if (this.parent) {\n      this.parent.curRecord = _extends({}, this.parent.curRecord, {\n        uri: uri,\n        pagename: pagename,\n        query: query\n      });\n    }\n  };\n\n  _proto.replace = function replace(location, key) {\n    var _locationToUri3 = locationToUri(location, key),\n        uri = _locationToUri3.uri,\n        pagename = _locationToUri3.pagename,\n        query = _locationToUri3.query;\n\n    this.curRecord = {\n      uri: uri,\n      pagename: pagename,\n      query: query,\n      key: key,\n      sub: new History({\n        uri: uri,\n        pagename: pagename,\n        query: query,\n        key: key\n      }, this)\n    };\n\n    if (this.parent) {\n      this.parent.curRecord = _extends({}, this.parent.curRecord, {\n        uri: uri,\n        pagename: pagename,\n        query: query\n      });\n    }\n  };\n\n  _proto.relaunch = function relaunch(location, key) {\n    var _locationToUri4 = locationToUri(location, key),\n        uri = _locationToUri4.uri,\n        pagename = _locationToUri4.pagename,\n        query = _locationToUri4.query;\n\n    this.curRecord = {\n      uri: uri,\n      pagename: pagename,\n      query: query,\n      key: key,\n      sub: new History({\n        uri: uri,\n        pagename: pagename,\n        query: query,\n        key: key\n      }, this)\n    };\n    this.actions = [];\n    this.pages = [];\n\n    if (this.parent) {\n      this.parent.curRecord = _extends({}, this.parent.curRecord, {\n        uri: uri,\n        pagename: pagename,\n        query: query\n      });\n    }\n  };\n\n  _proto.back = function back(delta) {\n    var _actions$;\n\n    var historyRecord = this.getRecord(delta - 1);\n\n    if (!historyRecord) {\n      return false;\n    }\n\n    this.curRecord = historyRecord;\n    var uri = historyRecord.uri,\n        pagename = historyRecord.pagename,\n        query = historyRecord.query;\n    var pages = [].concat(this.pages);\n    var actions = [].concat(this.actions);\n    var deleteActions = actions.splice(0, delta);\n    var arr = deleteActions.reduce(function (pre, curStack) {\n      var ctag = splitUri(curStack.uri, 'pagename');\n\n      if (pre[pre.length - 1] !== ctag) {\n        pre.push(ctag);\n      }\n\n      return pre;\n    }, []);\n\n    if (arr[arr.length - 1] === splitUri((_actions$ = actions[0]) == null ? void 0 : _actions$.uri, 'pagename')) {\n      arr.pop();\n    }\n\n    pages.splice(0, arr.length);\n    this.actions = actions;\n    this.pages = pages;\n\n    if (this.parent) {\n      this.parent.curRecord = _extends({}, this.parent.curRecord, {\n        uri: uri,\n        pagename: pagename,\n        query: query\n      });\n    }\n\n    return true;\n  };\n\n  return History;\n}();","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export function isPlainObject(obj) {\n  return typeof obj === 'object' && obj !== null && !Array.isArray(obj);\n}\n\nfunction __extendDefault(target, def) {\n  var clone = {};\n  Object.keys(def).forEach(function (key) {\n    if (target[key] === undefined) {\n      clone[key] = def[key];\n    } else {\n      var tval = target[key];\n      var dval = def[key];\n\n      if (isPlainObject(tval) && isPlainObject(dval) && tval !== dval) {\n        clone[key] = __extendDefault(tval, dval);\n      } else {\n        clone[key] = tval;\n      }\n    }\n  });\n  return clone;\n}\n\nexport function extendDefault(target, def) {\n  if (!isPlainObject(target)) {\n    target = {};\n  }\n\n  if (!isPlainObject(def)) {\n    def = {};\n  }\n\n  return __extendDefault(target, def);\n}\n\nfunction __excludeDefault(data, def) {\n  var result = {};\n  var hasSub = false;\n  Object.keys(data).forEach(function (key) {\n    var value = data[key];\n    var defaultValue = def[key];\n\n    if (value !== defaultValue) {\n      if (typeof value === typeof defaultValue && isPlainObject(value)) {\n        value = __excludeDefault(value, defaultValue);\n      }\n\n      if (value !== undefined) {\n        hasSub = true;\n        result[key] = value;\n      }\n    }\n  });\n\n  if (hasSub) {\n    return result;\n  }\n\n  return undefined;\n}\n\nexport function excludeDefault(data, def, keepTopLevel) {\n  if (!isPlainObject(data)) {\n    return {};\n  }\n\n  if (!isPlainObject(def)) {\n    return data;\n  }\n\n  var filtered = __excludeDefault(data, def);\n\n  if (keepTopLevel) {\n    var result = {};\n    Object.keys(data).forEach(function (key) {\n      result[key] = filtered && filtered[key] !== undefined ? filtered[key] : {};\n    });\n    return result;\n  }\n\n  return filtered || {};\n}\n\nfunction __splitPrivate(data) {\n  var keys = Object.keys(data);\n\n  if (keys.length === 0) {\n    return [undefined, undefined];\n  }\n\n  var publicData;\n  var privateData;\n  keys.forEach(function (key) {\n    var value = data[key];\n\n    if (key.startsWith('_')) {\n      if (!privateData) {\n        privateData = {};\n      }\n\n      privateData[key] = value;\n    } else if (isPlainObject(value)) {\n      var _splitPrivate = __splitPrivate(value),\n          subPublicData = _splitPrivate[0],\n          subPrivateData = _splitPrivate[1];\n\n      if (subPublicData) {\n        if (!publicData) {\n          publicData = {};\n        }\n\n        publicData[key] = subPublicData;\n      }\n\n      if (subPrivateData) {\n        if (!privateData) {\n          privateData = {};\n        }\n\n        privateData[key] = subPrivateData;\n      }\n    } else {\n      if (!publicData) {\n        publicData = {};\n      }\n\n      publicData[key] = value;\n    }\n  });\n  return [publicData, privateData];\n}\n\nexport function splitPrivate(data, deleteTopLevel) {\n  if (!isPlainObject(data)) {\n    return [undefined, undefined];\n  }\n\n  var keys = Object.keys(data);\n\n  if (keys.length === 0) {\n    return [undefined, undefined];\n  }\n\n  var result = __splitPrivate(data);\n\n  var publicData = result[0];\n  var privateData = result[1];\n  keys.forEach(function (key) {\n    if (!deleteTopLevel[key]) {\n      if (!publicData) {\n        publicData = {};\n      }\n\n      if (!publicData[key]) {\n        publicData[key] = {};\n      }\n    }\n  });\n  return [publicData, privateData];\n}","import { deepMerge } from '@medux/core';\nimport { extendDefault, excludeDefault, splitPrivate } from './deep-extend';\nimport { routeConfig } from './basic';\nexport function assignDefaultData(data) {\n  var def = routeConfig.defaultParams;\n  return Object.keys(data).reduce(function (params, moduleName) {\n    if (def.hasOwnProperty(moduleName)) {\n      params[moduleName] = extendDefault(data[moduleName], def[moduleName]);\n    }\n\n    return params;\n  }, {});\n}\n\nfunction dataIsNativeLocation(data) {\n  return data['pathname'];\n}\n\nexport function createLocationTransform(defaultParams, pagenameMap, nativeLocationMap, notfoundPagename, paramsKey) {\n  if (notfoundPagename === void 0) {\n    notfoundPagename = '/404';\n  }\n\n  if (paramsKey === void 0) {\n    paramsKey = '_';\n  }\n\n  routeConfig.defaultParams = defaultParams;\n  var pagenames = Object.keys(pagenameMap);\n  pagenameMap = pagenames.sort(function (a, b) {\n    return b.length - a.length;\n  }).reduce(function (map, pagename) {\n    var fullPagename = (\"/\" + pagename + \"/\").replace(/^\\/+|\\/+$/g, '/');\n    map[fullPagename] = pagenameMap[pagename];\n    return map;\n  }, {});\n  routeConfig.pagenames = pagenames.reduce(function (obj, key) {\n    obj[key] = key;\n    return obj;\n  }, {});\n  pagenames = Object.keys(pagenameMap);\n\n  function toStringArgs(arr) {\n    return arr.map(function (item) {\n      if (item === null || item === undefined) {\n        return undefined;\n      }\n\n      return item.toString();\n    });\n  }\n\n  return {\n    in: function _in(data) {\n      var path;\n\n      if (dataIsNativeLocation(data)) {\n        data = nativeLocationMap.in(data);\n        path = data.pathname;\n      } else {\n        path = data.pagename;\n      }\n\n      path = (\"/\" + path + \"/\").replace(/^\\/+|\\/+$/g, '/');\n      var pagename = pagenames.find(function (name) {\n        return path.startsWith(name);\n      });\n      var params;\n\n      if (pagename) {\n        if (dataIsNativeLocation(data)) {\n          var searchParams = data.searchData && data.searchData[paramsKey] ? JSON.parse(data.searchData[paramsKey]) : undefined;\n          var hashParams = data.hashData && data.hashData[paramsKey] ? JSON.parse(data.hashData[paramsKey]) : undefined;\n\n          var _pathArgs = path.replace(pagename, '').split('/').map(function (item) {\n            return item ? decodeURIComponent(item) : undefined;\n          });\n\n          var pathParams = pagenameMap[pagename].argsToParams(_pathArgs);\n          params = deepMerge(pathParams, searchParams, hashParams);\n        } else {\n          var _pathParams = pagenameMap[pagename].argsToParams([]);\n\n          params = deepMerge(_pathParams, data.params);\n        }\n      } else {\n        pagename = notfoundPagename + \"/\";\n        params = pagenameMap[pagename] ? pagenameMap[pagename].argsToParams([path.replace(/\\/$/, '')]) : {};\n      }\n\n      return {\n        pagename: \"/\" + pagename.replace(/^\\/+|\\/+$/g, ''),\n        params: assignDefaultData(params)\n      };\n    },\n    out: function out(meduxLocation) {\n      var _ref, _ref2;\n\n      var params = excludeDefault(meduxLocation.params, defaultParams, true);\n      var pagename = (\"/\" + meduxLocation.pagename + \"/\").replace(/^\\/+|\\/+$/g, '/');\n      var pathParams;\n      var pathname;\n\n      if (pagenameMap[pagename]) {\n        var _pathArgs2 = toStringArgs(pagenameMap[pagename].paramsToArgs(params));\n\n        pathParams = pagenameMap[pagename].argsToParams(_pathArgs2);\n        pathname = pagename + _pathArgs2.map(function (item) {\n          return item && encodeURIComponent(item);\n        }).join('/').replace(/\\/*$/, '');\n      } else {\n        pathParams = {};\n        pathname = pagename;\n      }\n\n      params = excludeDefault(params, pathParams, false);\n      var result = splitPrivate(params, pathParams);\n      var nativeLocation = {\n        pathname: \"/\" + pathname.replace(/^\\/+|\\/+$/g, ''),\n        searchData: result[0] ? (_ref = {}, _ref[paramsKey] = JSON.stringify(result[0]), _ref) : undefined,\n        hashData: result[1] ? (_ref2 = {}, _ref2[paramsKey] = JSON.stringify(result[1]), _ref2) : undefined\n      };\n      return nativeLocationMap.out(nativeLocation);\n    }\n  };\n}","import _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _decorate from \"@babel/runtime/helpers/esm/decorate\";\nimport { CoreModuleHandlers, config, reducer, deepMerge, mergeState, deepMergeState, exportModule } from '@medux/core';\nimport { createLocationTransform } from './transform';\nexport var ModuleWithRouteHandlers = _decorate(null, function (_initialize, _CoreModuleHandlers) {\n  var ModuleWithRouteHandlers = function (_CoreModuleHandlers2) {\n    _inheritsLoose(ModuleWithRouteHandlers, _CoreModuleHandlers2);\n\n    function ModuleWithRouteHandlers() {\n      var _this;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _CoreModuleHandlers2.call.apply(_CoreModuleHandlers2, [this].concat(args)) || this;\n\n      _initialize(_assertThisInitialized(_this));\n\n      return _this;\n    }\n\n    return ModuleWithRouteHandlers;\n  }(_CoreModuleHandlers);\n\n  return {\n    F: ModuleWithRouteHandlers,\n    d: [{\n      kind: \"method\",\n      decorators: [reducer],\n      key: \"Init\",\n      value: function Init(initState) {\n        var routeParams = this.rootState.route.params[this.moduleName];\n        return routeParams ? deepMerge({}, initState, routeParams) : initState;\n      }\n    }, {\n      kind: \"method\",\n      decorators: [reducer],\n      key: \"RouteParams\",\n      value: function RouteParams(payload) {\n        return deepMergeState(this.state, payload);\n      }\n    }]\n  };\n}, CoreModuleHandlers);\nexport var RouteActionTypes = {\n  MRouteParams: 'RouteParams',\n  RouteChange: \"route\" + config.NSP + \"RouteChange\",\n  TestRouteChange: \"route\" + config.NSP + \"TestRouteChange\"\n};\nexport function testRouteChangeAction(routeState) {\n  return {\n    type: RouteActionTypes.TestRouteChange,\n    payload: [routeState]\n  };\n}\nexport function routeParamsAction(moduleName, params, action) {\n  return {\n    type: \"\" + moduleName + config.NSP + RouteActionTypes.MRouteParams,\n    payload: [params, action]\n  };\n}\nexport function routeChangeAction(routeState) {\n  return {\n    type: RouteActionTypes.RouteChange,\n    payload: [routeState]\n  };\n}\nexport var routeMiddleware = function routeMiddleware(_ref) {\n  var dispatch = _ref.dispatch,\n      getState = _ref.getState;\n  return function (next) {\n    return function (action) {\n      if (action.type === RouteActionTypes.RouteChange) {\n        var result = next(action);\n        var routeState = action.payload[0];\n        var rootRouteParams = routeState.params;\n        var rootState = getState();\n        Object.keys(rootRouteParams).forEach(function (moduleName) {\n          var routeParams = rootRouteParams[moduleName];\n\n          if (routeParams) {\n            var _rootState$moduleName;\n\n            if ((_rootState$moduleName = rootState[moduleName]) != null && _rootState$moduleName.initialized) {\n              dispatch(routeParamsAction(moduleName, routeParams, routeState.action));\n            }\n          }\n        });\n        return result;\n      }\n\n      return next(action);\n    };\n  };\n};\n\nvar RouteModuleHandlers = function () {\n  function RouteModuleHandlers() {\n    _defineProperty(this, \"initState\", void 0);\n\n    _defineProperty(this, \"moduleName\", void 0);\n\n    _defineProperty(this, \"store\", void 0);\n\n    _defineProperty(this, \"actions\", void 0);\n  }\n\n  var _proto = RouteModuleHandlers.prototype;\n\n  _proto.RouteChange = function RouteChange(routeState) {\n    return mergeState(this.state, routeState);\n  };\n\n  _createClass(RouteModuleHandlers, [{\n    key: \"state\",\n    get: function get() {\n      return this.store.getState(this.moduleName);\n    }\n  }]);\n\n  return RouteModuleHandlers;\n}();\n\nexport function createRouteModule(defaultParams, pagenameMap, nativeLocationMap, notfoundPagename, paramsKey) {\n  if (notfoundPagename === void 0) {\n    notfoundPagename = '/404';\n  }\n\n  if (paramsKey === void 0) {\n    paramsKey = '_';\n  }\n\n  var handlers = RouteModuleHandlers;\n  var locationTransform = createLocationTransform(defaultParams, pagenameMap, nativeLocationMap, notfoundPagename, paramsKey);\n  var result = exportModule('route', handlers, {});\n  return {\n    default: result,\n    locationTransform: locationTransform\n  };\n}","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { env, deepMerge, isPromise } from '@medux/core';\nimport { uriToLocation, nativeUrlToNativeLocation as _nativeUrlToNativeLocation, nativeLocationToNativeUrl as _nativeLocationToNativeUrl, History, routeConfig, setRouteConfig } from './basic';\nimport { testRouteChangeAction, routeChangeAction } from './module';\nexport { setRouteConfig, routeConfig, nativeUrlToNativeLocation } from './basic';\nexport { PagenameMap, createLocationTransform } from './transform';\nexport { routeMiddleware, createRouteModule, RouteActionTypes, ModuleWithRouteHandlers } from './module';\n\nfunction dataIsNativeLocation(data) {\n  return data['pathname'];\n}\n\nexport var BaseNativeRouter = function () {\n  function BaseNativeRouter() {\n    _defineProperty(this, \"curTask\", void 0);\n\n    _defineProperty(this, \"taskList\", []);\n\n    _defineProperty(this, \"router\", null);\n  }\n\n  var _proto = BaseNativeRouter.prototype;\n\n  _proto.onChange = function onChange(key) {\n    if (this.curTask) {\n      this.curTask.resolve(this.curTask.nativeData);\n      this.curTask = undefined;\n      return false;\n    }\n\n    return key !== this.router.getCurKey();\n  };\n\n  _proto.setRouter = function setRouter(router) {\n    this.router = router;\n  };\n\n  _proto.execute = function execute(method, getNativeData) {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    return new Promise(function (resolve, reject) {\n      var task = {\n        resolve: resolve,\n        reject: reject,\n        nativeData: undefined\n      };\n      _this.curTask = task;\n\n      var result = _this[method].apply(_this, [function () {\n        var nativeData = getNativeData();\n        task.nativeData = nativeData;\n        return nativeData;\n      }].concat(args));\n\n      if (!result) {\n        resolve(undefined);\n        _this.curTask = undefined;\n      } else if (isPromise(result)) {\n        result.catch(function (e) {\n          reject(e);\n          _this.curTask = undefined;\n        });\n      }\n    });\n  };\n\n  return BaseNativeRouter;\n}();\nexport var BaseRouter = function () {\n  function BaseRouter(nativeLocationOrNativeUrl, nativeRouter, locationTransform) {\n    _defineProperty(this, \"_tid\", 0);\n\n    _defineProperty(this, \"curTask\", void 0);\n\n    _defineProperty(this, \"taskList\", []);\n\n    _defineProperty(this, \"_nativeData\", void 0);\n\n    _defineProperty(this, \"routeState\", void 0);\n\n    _defineProperty(this, \"meduxUrl\", void 0);\n\n    _defineProperty(this, \"store\", void 0);\n\n    _defineProperty(this, \"history\", void 0);\n\n    _defineProperty(this, \"_lid\", 0);\n\n    _defineProperty(this, \"listenerMap\", {});\n\n    this.nativeRouter = nativeRouter;\n    this.locationTransform = locationTransform;\n    nativeRouter.setRouter(this);\n    var location = typeof nativeLocationOrNativeUrl === 'string' ? this.nativeUrlToLocation(nativeLocationOrNativeUrl) : this.nativeLocationToLocation(nativeLocationOrNativeUrl);\n\n    var key = this._createKey();\n\n    var routeState = _extends({}, location, {\n      action: 'RELAUNCH',\n      key: key\n    });\n\n    this.routeState = routeState;\n    this.meduxUrl = this.locationToMeduxUrl(routeState);\n\n    if (!routeConfig.indexUrl) {\n      setRouteConfig({\n        indexUrl: this.meduxUrl\n      });\n    }\n\n    this._nativeData = undefined;\n    this.history = new History({\n      location: location,\n      key: key\n    });\n  }\n\n  var _proto2 = BaseRouter.prototype;\n\n  _proto2.addListener = function addListener(callback) {\n    this._lid++;\n    var id = \"\" + this._lid;\n    var listenerMap = this.listenerMap;\n    listenerMap[id] = callback;\n    return function () {\n      delete listenerMap[id];\n    };\n  };\n\n  _proto2.dispatch = function dispatch(data) {\n    var listenerMap = this.listenerMap;\n    var arr = Object.keys(listenerMap).map(function (id) {\n      return listenerMap[id](data);\n    });\n    return Promise.all(arr);\n  };\n\n  _proto2.getRouteState = function getRouteState() {\n    return this.routeState;\n  };\n\n  _proto2.getPagename = function getPagename() {\n    return this.routeState.pagename;\n  };\n\n  _proto2.getParams = function getParams() {\n    return this.routeState.params;\n  };\n\n  _proto2.getMeduxUrl = function getMeduxUrl() {\n    return this.meduxUrl;\n  };\n\n  _proto2.getNativeLocation = function getNativeLocation() {\n    if (!this._nativeData) {\n      var _nativeLocation = this.locationTransform.out(this.routeState);\n\n      var _nativeUrl = this.nativeLocationToNativeUrl(_nativeLocation);\n\n      this._nativeData = {\n        nativeLocation: _nativeLocation,\n        nativeUrl: _nativeUrl\n      };\n    }\n\n    return this._nativeData.nativeLocation;\n  };\n\n  _proto2.getNativeUrl = function getNativeUrl() {\n    if (!this._nativeData) {\n      var _nativeLocation2 = this.locationTransform.out(this.routeState);\n\n      var _nativeUrl2 = this.nativeLocationToNativeUrl(_nativeLocation2);\n\n      this._nativeData = {\n        nativeLocation: _nativeLocation2,\n        nativeUrl: _nativeUrl2\n      };\n    }\n\n    return this._nativeData.nativeUrl;\n  };\n\n  _proto2.setStore = function setStore(_store) {\n    this.store = _store;\n  };\n\n  _proto2.getCurKey = function getCurKey() {\n    return this.routeState.key;\n  };\n\n  _proto2.findHistoryIndexByKey = function findHistoryIndexByKey(key) {\n    return this.history.findIndex(key);\n  };\n\n  _proto2._createKey = function _createKey() {\n    this._tid++;\n    return \"\" + this._tid;\n  };\n\n  _proto2.nativeUrlToNativeLocation = function nativeUrlToNativeLocation(url) {\n    return _nativeUrlToNativeLocation(url);\n  };\n\n  _proto2.nativeLocationToLocation = function nativeLocationToLocation(nativeLocation) {\n    var location;\n\n    try {\n      location = this.locationTransform.in(nativeLocation);\n    } catch (error) {\n      env.console.warn(error);\n      location = {\n        pagename: '/',\n        params: {}\n      };\n    }\n\n    return location;\n  };\n\n  _proto2.nativeUrlToLocation = function nativeUrlToLocation(nativeUrl) {\n    return this.nativeLocationToLocation(this.nativeUrlToNativeLocation(nativeUrl));\n  };\n\n  _proto2.urlToLocation = function urlToLocation(url) {\n    var _url$split = url.split('?'),\n        pathname = _url$split[0],\n        others = _url$split.slice(1);\n\n    var query = others.join('?');\n    var location;\n\n    try {\n      if (query.startsWith('{')) {\n        var _data = JSON.parse(query);\n\n        location = this.locationTransform.in({\n          pagename: pathname,\n          params: _data\n        });\n      } else {\n        var _nativeLocation3 = this.nativeUrlToNativeLocation(url);\n\n        location = this.locationTransform.in(_nativeLocation3);\n      }\n    } catch (error) {\n      env.console.warn(error);\n      location = {\n        pagename: '/',\n        params: {}\n      };\n    }\n\n    return location;\n  };\n\n  _proto2.nativeLocationToNativeUrl = function nativeLocationToNativeUrl(nativeLocation) {\n    return _nativeLocationToNativeUrl(nativeLocation);\n  };\n\n  _proto2.locationToNativeUrl = function locationToNativeUrl(location) {\n    var nativeLocation = this.locationTransform.out(location);\n    return this.nativeLocationToNativeUrl(nativeLocation);\n  };\n\n  _proto2.locationToMeduxUrl = function locationToMeduxUrl(location) {\n    return [location.pagename, JSON.stringify(location.params || {})].join('?');\n  };\n\n  _proto2.payloadToPartial = function payloadToPartial(payload) {\n    var params = payload.params;\n    var extendParams = payload.extendParams === 'current' ? this.routeState.params : payload.extendParams;\n\n    if (extendParams && params) {\n      params = deepMerge({}, extendParams, params);\n    } else if (extendParams) {\n      params = extendParams;\n    }\n\n    return {\n      pagename: payload.pagename || this.routeState.pagename,\n      params: params || {}\n    };\n  };\n\n  _proto2.relaunch = function relaunch(data, internal, disableNative) {\n    if (internal === void 0) {\n      internal = false;\n    }\n\n    if (disableNative === void 0) {\n      disableNative = routeConfig.disableNativeRoute;\n    }\n\n    this.addTask(this._relaunch.bind(this, data, internal, disableNative));\n  };\n\n  _proto2._relaunch = function () {\n    var _relaunch2 = _asyncToGenerator(_regeneratorRuntime.mark(function _callee(data, internal, disableNative) {\n      var _this2 = this;\n\n      var location, key, routeState, nativeData;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(typeof data === 'string')) {\n                _context.next = 7;\n                break;\n              }\n\n              if (!/^[\\w:]*\\/\\//.test(data)) {\n                _context.next = 4;\n                break;\n              }\n\n              this.nativeRouter.toOutside(data);\n              return _context.abrupt(\"return\");\n\n            case 4:\n              location = this.urlToLocation(data);\n              _context.next = 8;\n              break;\n\n            case 7:\n              if (dataIsNativeLocation(data)) {\n                location = this.nativeLocationToLocation(data);\n              } else {\n                location = this.locationTransform.in(this.payloadToPartial(data));\n              }\n\n            case 8:\n              key = this._createKey();\n              routeState = _extends({}, location, {\n                action: 'RELAUNCH',\n                key: key\n              });\n              _context.next = 12;\n              return this.store.dispatch(testRouteChangeAction(routeState));\n\n            case 12:\n              _context.next = 14;\n              return this.dispatch(routeState);\n\n            case 14:\n              if (!(!disableNative && !internal)) {\n                _context.next = 18;\n                break;\n              }\n\n              _context.next = 17;\n              return this.nativeRouter.execute('relaunch', function () {\n                var nativeLocation = _this2.locationTransform.out(routeState);\n\n                var nativeUrl = _this2.nativeLocationToNativeUrl(nativeLocation);\n\n                return {\n                  nativeLocation: nativeLocation,\n                  nativeUrl: nativeUrl\n                };\n              }, key);\n\n            case 17:\n              nativeData = _context.sent;\n\n            case 18:\n              this._nativeData = nativeData;\n              this.routeState = routeState;\n              this.meduxUrl = this.locationToMeduxUrl(routeState);\n              this.store.dispatch(routeChangeAction(routeState));\n\n              if (internal) {\n                this.history.getCurrentInternalHistory().relaunch(location, key);\n              } else {\n                this.history.relaunch(location, key);\n              }\n\n            case 23:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function _relaunch(_x, _x2, _x3) {\n      return _relaunch2.apply(this, arguments);\n    }\n\n    return _relaunch;\n  }();\n\n  _proto2.push = function push(data, internal, disableNative) {\n    if (internal === void 0) {\n      internal = false;\n    }\n\n    if (disableNative === void 0) {\n      disableNative = routeConfig.disableNativeRoute;\n    }\n\n    this.addTask(this._push.bind(this, data, internal, disableNative));\n  };\n\n  _proto2._push = function () {\n    var _push2 = _asyncToGenerator(_regeneratorRuntime.mark(function _callee2(data, internal, disableNative) {\n      var _this3 = this;\n\n      var location, key, routeState, nativeData;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(typeof data === 'string')) {\n                _context2.next = 7;\n                break;\n              }\n\n              if (!/^[\\w:]*\\/\\//.test(data)) {\n                _context2.next = 4;\n                break;\n              }\n\n              this.nativeRouter.toOutside(data);\n              return _context2.abrupt(\"return\");\n\n            case 4:\n              location = this.urlToLocation(data);\n              _context2.next = 8;\n              break;\n\n            case 7:\n              if (dataIsNativeLocation(data)) {\n                location = this.nativeLocationToLocation(data);\n              } else {\n                location = this.locationTransform.in(this.payloadToPartial(data));\n              }\n\n            case 8:\n              key = this._createKey();\n              routeState = _extends({}, location, {\n                action: 'PUSH',\n                key: key\n              });\n              _context2.next = 12;\n              return this.store.dispatch(testRouteChangeAction(routeState));\n\n            case 12:\n              _context2.next = 14;\n              return this.dispatch(routeState);\n\n            case 14:\n              if (!(!disableNative && !internal)) {\n                _context2.next = 18;\n                break;\n              }\n\n              _context2.next = 17;\n              return this.nativeRouter.execute('push', function () {\n                var nativeLocation = _this3.locationTransform.out(routeState);\n\n                var nativeUrl = _this3.nativeLocationToNativeUrl(nativeLocation);\n\n                return {\n                  nativeLocation: nativeLocation,\n                  nativeUrl: nativeUrl\n                };\n              }, key);\n\n            case 17:\n              nativeData = _context2.sent;\n\n            case 18:\n              this._nativeData = nativeData || undefined;\n              this.routeState = routeState;\n              this.meduxUrl = this.locationToMeduxUrl(routeState);\n\n              if (internal) {\n                this.history.getCurrentInternalHistory().push(location, key);\n              } else {\n                this.history.push(location, key);\n              }\n\n              this.store.dispatch(routeChangeAction(routeState));\n\n            case 23:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function _push(_x4, _x5, _x6) {\n      return _push2.apply(this, arguments);\n    }\n\n    return _push;\n  }();\n\n  _proto2.replace = function replace(data, internal, disableNative) {\n    if (internal === void 0) {\n      internal = false;\n    }\n\n    if (disableNative === void 0) {\n      disableNative = routeConfig.disableNativeRoute;\n    }\n\n    this.addTask(this._replace.bind(this, data, internal, disableNative));\n  };\n\n  _proto2._replace = function () {\n    var _replace2 = _asyncToGenerator(_regeneratorRuntime.mark(function _callee3(data, internal, disableNative) {\n      var _this4 = this;\n\n      var location, key, routeState, nativeData;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!(typeof data === 'string')) {\n                _context3.next = 7;\n                break;\n              }\n\n              if (!/^[\\w:]*\\/\\//.test(data)) {\n                _context3.next = 4;\n                break;\n              }\n\n              this.nativeRouter.toOutside(data);\n              return _context3.abrupt(\"return\");\n\n            case 4:\n              location = this.urlToLocation(data);\n              _context3.next = 8;\n              break;\n\n            case 7:\n              if (dataIsNativeLocation(data)) {\n                location = this.nativeLocationToLocation(data);\n              } else {\n                location = this.locationTransform.in(this.payloadToPartial(data));\n              }\n\n            case 8:\n              key = this._createKey();\n              routeState = _extends({}, location, {\n                action: 'REPLACE',\n                key: key\n              });\n              _context3.next = 12;\n              return this.store.dispatch(testRouteChangeAction(routeState));\n\n            case 12:\n              _context3.next = 14;\n              return this.dispatch(routeState);\n\n            case 14:\n              if (!(!disableNative && !internal)) {\n                _context3.next = 18;\n                break;\n              }\n\n              _context3.next = 17;\n              return this.nativeRouter.execute('replace', function () {\n                var nativeLocation = _this4.locationTransform.out(routeState);\n\n                var nativeUrl = _this4.nativeLocationToNativeUrl(nativeLocation);\n\n                return {\n                  nativeLocation: nativeLocation,\n                  nativeUrl: nativeUrl\n                };\n              }, key);\n\n            case 17:\n              nativeData = _context3.sent;\n\n            case 18:\n              this._nativeData = nativeData || undefined;\n              this.routeState = routeState;\n              this.meduxUrl = this.locationToMeduxUrl(routeState);\n\n              if (internal) {\n                this.history.getCurrentInternalHistory().replace(location, key);\n              } else {\n                this.history.replace(location, key);\n              }\n\n              this.store.dispatch(routeChangeAction(routeState));\n\n            case 23:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function _replace(_x7, _x8, _x9) {\n      return _replace2.apply(this, arguments);\n    }\n\n    return _replace;\n  }();\n\n  _proto2.back = function back(n, indexUrl, internal, disableNative) {\n    if (n === void 0) {\n      n = 1;\n    }\n\n    if (indexUrl === void 0) {\n      indexUrl = 'index';\n    }\n\n    if (internal === void 0) {\n      internal = false;\n    }\n\n    if (disableNative === void 0) {\n      disableNative = routeConfig.disableNativeRoute;\n    }\n\n    this.addTask(this._back.bind(this, n, indexUrl === 'index' ? routeConfig.indexUrl : indexUrl, internal, disableNative));\n  };\n\n  _proto2._back = function () {\n    var _back2 = _asyncToGenerator(_regeneratorRuntime.mark(function _callee4(n, indexUrl, internal, disableNative) {\n      var _this5 = this;\n\n      var stack, uri, _uriToLocation, key, location, routeState, nativeData;\n\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (n === void 0) {\n                n = 1;\n              }\n\n              stack = internal ? this.history.getCurrentInternalHistory().getRecord(n - 1) : this.history.getRecord(n - 1);\n\n              if (stack) {\n                _context4.next = 6;\n                break;\n              }\n\n              if (!indexUrl) {\n                _context4.next = 5;\n                break;\n              }\n\n              return _context4.abrupt(\"return\", this._relaunch(indexUrl || routeConfig.indexUrl, internal, disableNative));\n\n            case 5:\n              throw {\n                code: '1',\n                message: 'history not found'\n              };\n\n            case 6:\n              uri = stack.uri;\n              _uriToLocation = uriToLocation(uri), key = _uriToLocation.key, location = _uriToLocation.location;\n              routeState = _extends({}, location, {\n                action: 'BACK',\n                key: key\n              });\n              _context4.next = 11;\n              return this.store.dispatch(testRouteChangeAction(routeState));\n\n            case 11:\n              _context4.next = 13;\n              return this.dispatch(routeState);\n\n            case 13:\n              if (!(!disableNative && !internal)) {\n                _context4.next = 17;\n                break;\n              }\n\n              _context4.next = 16;\n              return this.nativeRouter.execute('back', function () {\n                var nativeLocation = _this5.locationTransform.out(routeState);\n\n                var nativeUrl = _this5.nativeLocationToNativeUrl(nativeLocation);\n\n                return {\n                  nativeLocation: nativeLocation,\n                  nativeUrl: nativeUrl\n                };\n              }, n, key);\n\n            case 16:\n              nativeData = _context4.sent;\n\n            case 17:\n              this._nativeData = nativeData || undefined;\n              this.routeState = routeState;\n              this.meduxUrl = this.locationToMeduxUrl(routeState);\n\n              if (internal) {\n                this.history.getCurrentInternalHistory().back(n);\n              } else {\n                this.history.back(n);\n              }\n\n              this.store.dispatch(routeChangeAction(routeState));\n              return _context4.abrupt(\"return\", undefined);\n\n            case 23:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function _back(_x10, _x11, _x12, _x13) {\n      return _back2.apply(this, arguments);\n    }\n\n    return _back;\n  }();\n\n  _proto2.taskComplete = function taskComplete() {\n    var task = this.taskList.shift();\n\n    if (task) {\n      this.executeTask(task);\n    } else {\n      this.curTask = undefined;\n    }\n  };\n\n  _proto2.executeTask = function executeTask(task) {\n    this.curTask = task;\n    task().finally(this.taskComplete.bind(this));\n  };\n\n  _proto2.addTask = function addTask(task) {\n    if (this.curTask) {\n      this.taskList.push(task);\n    } else {\n      this.executeTask(task);\n    }\n  };\n\n  _proto2.destroy = function destroy() {\n    this.nativeRouter.destroy();\n  };\n\n  return BaseRouter;\n}();","function isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n}\n\n// About 1.5x faster than the two-arg version of Array#splice()\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }\n\n  list.pop();\n}\n\n// This implementation is based heavily on node's url.parse\nfunction resolvePathname(to, from) {\n  if (from === undefined) from = '';\n\n  var toParts = (to && to.split('/')) || [];\n  var fromParts = (from && from.split('/')) || [];\n\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n\n  var hasTrailingSlash;\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) fromParts.unshift('..');\n\n  if (\n    mustEndAbs &&\n    fromParts[0] !== '' &&\n    (!fromParts[0] || !isAbsolute(fromParts[0]))\n  )\n    fromParts.unshift('');\n\n  var result = fromParts.join('/');\n\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n\n  return result;\n}\n\nexport default resolvePathname;\n","var isProduction = process.env.NODE_ENV === 'production';\nfunction warning(condition, message) {\n  if (!isProduction) {\n    if (condition) {\n      return;\n    }\n\n    var text = \"Warning: \" + message;\n\n    if (typeof console !== 'undefined') {\n      console.warn(text);\n    }\n\n    try {\n      throw Error(text);\n    } catch (x) {}\n  }\n}\n\nexport default warning;\n","var isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction invariant(condition, message) {\n    if (condition) {\n        return;\n    }\n    if (isProduction) {\n        throw new Error(prefix);\n    }\n    throw new Error(prefix + \": \" + (message || ''));\n}\n\nexport default invariant;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport resolvePathname from 'resolve-pathname';\nimport valueEqual from 'value-equal';\nimport warning from 'tiny-warning';\nimport invariant from 'tiny-invariant';\n\nfunction addLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path : '/' + path;\n}\nfunction stripLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path.substr(1) : path;\n}\nfunction hasBasename(path, prefix) {\n  return path.toLowerCase().indexOf(prefix.toLowerCase()) === 0 && '/?#'.indexOf(path.charAt(prefix.length)) !== -1;\n}\nfunction stripBasename(path, prefix) {\n  return hasBasename(path, prefix) ? path.substr(prefix.length) : path;\n}\nfunction stripTrailingSlash(path) {\n  return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;\n}\nfunction parsePath(path) {\n  var pathname = path || '/';\n  var search = '';\n  var hash = '';\n  var hashIndex = pathname.indexOf('#');\n\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname: pathname,\n    search: search === '?' ? '' : search,\n    hash: hash === '#' ? '' : hash\n  };\n}\nfunction createPath(location) {\n  var pathname = location.pathname,\n      search = location.search,\n      hash = location.hash;\n  var path = pathname || '/';\n  if (search && search !== '?') path += search.charAt(0) === '?' ? search : \"?\" + search;\n  if (hash && hash !== '#') path += hash.charAt(0) === '#' ? hash : \"#\" + hash;\n  return path;\n}\n\nfunction createLocation(path, state, key, currentLocation) {\n  var location;\n\n  if (typeof path === 'string') {\n    // Two-arg form: push(path, state)\n    location = parsePath(path);\n    location.state = state;\n  } else {\n    // One-arg form: push(location)\n    location = _extends({}, path);\n    if (location.pathname === undefined) location.pathname = '';\n\n    if (location.search) {\n      if (location.search.charAt(0) !== '?') location.search = '?' + location.search;\n    } else {\n      location.search = '';\n    }\n\n    if (location.hash) {\n      if (location.hash.charAt(0) !== '#') location.hash = '#' + location.hash;\n    } else {\n      location.hash = '';\n    }\n\n    if (state !== undefined && location.state === undefined) location.state = state;\n  }\n\n  try {\n    location.pathname = decodeURI(location.pathname);\n  } catch (e) {\n    if (e instanceof URIError) {\n      throw new URIError('Pathname \"' + location.pathname + '\" could not be decoded. ' + 'This is likely caused by an invalid percent-encoding.');\n    } else {\n      throw e;\n    }\n  }\n\n  if (key) location.key = key;\n\n  if (currentLocation) {\n    // Resolve incomplete/relative pathname relative to current location.\n    if (!location.pathname) {\n      location.pathname = currentLocation.pathname;\n    } else if (location.pathname.charAt(0) !== '/') {\n      location.pathname = resolvePathname(location.pathname, currentLocation.pathname);\n    }\n  } else {\n    // When there is no prior location and pathname is empty, set it to /\n    if (!location.pathname) {\n      location.pathname = '/';\n    }\n  }\n\n  return location;\n}\nfunction locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && a.key === b.key && valueEqual(a.state, b.state);\n}\n\nfunction createTransitionManager() {\n  var prompt = null;\n\n  function setPrompt(nextPrompt) {\n    process.env.NODE_ENV !== \"production\" ? warning(prompt == null, 'A history supports only one prompt at a time') : void 0;\n    prompt = nextPrompt;\n    return function () {\n      if (prompt === nextPrompt) prompt = null;\n    };\n  }\n\n  function confirmTransitionTo(location, action, getUserConfirmation, callback) {\n    // TODO: If another transition starts while we're still confirming\n    // the previous one, we may end up in a weird state. Figure out the\n    // best way to handle this.\n    if (prompt != null) {\n      var result = typeof prompt === 'function' ? prompt(location, action) : prompt;\n\n      if (typeof result === 'string') {\n        if (typeof getUserConfirmation === 'function') {\n          getUserConfirmation(result, callback);\n        } else {\n          process.env.NODE_ENV !== \"production\" ? warning(false, 'A history needs a getUserConfirmation function in order to use a prompt message') : void 0;\n          callback(true);\n        }\n      } else {\n        // Return false from a transition hook to cancel the transition.\n        callback(result !== false);\n      }\n    } else {\n      callback(true);\n    }\n  }\n\n  var listeners = [];\n\n  function appendListener(fn) {\n    var isActive = true;\n\n    function listener() {\n      if (isActive) fn.apply(void 0, arguments);\n    }\n\n    listeners.push(listener);\n    return function () {\n      isActive = false;\n      listeners = listeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  }\n\n  function notifyListeners() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    listeners.forEach(function (listener) {\n      return listener.apply(void 0, args);\n    });\n  }\n\n  return {\n    setPrompt: setPrompt,\n    confirmTransitionTo: confirmTransitionTo,\n    appendListener: appendListener,\n    notifyListeners: notifyListeners\n  };\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nfunction getConfirmation(message, callback) {\n  callback(window.confirm(message)); // eslint-disable-line no-alert\n}\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\n\nfunction supportsHistory() {\n  var ua = window.navigator.userAgent;\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;\n  return window.history && 'pushState' in window.history;\n}\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\n\nfunction supportsPopStateOnHashChange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n}\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\n\nfunction supportsGoWithoutReloadUsingHash() {\n  return window.navigator.userAgent.indexOf('Firefox') === -1;\n}\n/**\n * Returns true if a given popstate event is an extraneous WebKit event.\n * Accounts for the fact that Chrome on iOS fires real popstate events\n * containing undefined state when pressing the back button.\n */\n\nfunction isExtraneousPopstateEvent(event) {\n  return event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;\n}\n\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nfunction getHistoryState() {\n  try {\n    return window.history.state || {};\n  } catch (e) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    return {};\n  }\n}\n/**\n * Creates a history object that uses the HTML5 history API including\n * pushState, replaceState, and the popstate event.\n */\n\n\nfunction createBrowserHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Browser history needs a DOM') : invariant(false) : void 0;\n  var globalHistory = window.history;\n  var canUseHistory = supportsHistory();\n  var needsHashChangeListener = !supportsPopStateOnHashChange();\n  var _props = props,\n      _props$forceRefresh = _props.forceRefresh,\n      forceRefresh = _props$forceRefresh === void 0 ? false : _props$forceRefresh,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n\n  function getDOMLocation(historyState) {\n    var _ref = historyState || {},\n        key = _ref.key,\n        state = _ref.state;\n\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n    var path = pathname + search + hash;\n    process.env.NODE_ENV !== \"production\" ? warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".') : void 0;\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path, state, key);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function handlePopState(event) {\n    // Ignore extraneous popstate events in WebKit.\n    if (isExtraneousPopstateEvent(event)) return;\n    handlePop(getDOMLocation(event.state));\n  }\n\n  function handleHashChange() {\n    handlePop(getDOMLocation(getHistoryState()));\n  }\n\n  var forceNextPop = false;\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of keys we've seen in sessionStorage.\n    // Instead, we just default to 0 for keys we don't know.\n\n    var toIndex = allKeys.indexOf(toLocation.key);\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allKeys.indexOf(fromLocation.key);\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  }\n\n  var initialLocation = getDOMLocation(getHistoryState());\n  var allKeys = [initialLocation.key]; // Public interface\n\n  function createHref(location) {\n    return basename + createPath(location);\n  }\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.pushState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.href = href;\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          var nextKeys = allKeys.slice(0, prevIndex + 1);\n          nextKeys.push(location.key);\n          allKeys = nextKeys;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Browser history cannot push state in browsers that do not support HTML5 history') : void 0;\n        window.location.href = href;\n      }\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.replaceState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.replace(href);\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          if (prevIndex !== -1) allKeys[prevIndex] = location.key;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Browser history cannot replace state in browsers that do not support HTML5 history') : void 0;\n        window.location.replace(href);\n      }\n    });\n  }\n\n  function go(n) {\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.addEventListener(HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.removeEventListener(HashChangeEvent, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nvar HashChangeEvent$1 = 'hashchange';\nvar HashPathCoders = {\n  hashbang: {\n    encodePath: function encodePath(path) {\n      return path.charAt(0) === '!' ? path : '!/' + stripLeadingSlash(path);\n    },\n    decodePath: function decodePath(path) {\n      return path.charAt(0) === '!' ? path.substr(1) : path;\n    }\n  },\n  noslash: {\n    encodePath: stripLeadingSlash,\n    decodePath: addLeadingSlash\n  },\n  slash: {\n    encodePath: addLeadingSlash,\n    decodePath: addLeadingSlash\n  }\n};\n\nfunction stripHash(url) {\n  var hashIndex = url.indexOf('#');\n  return hashIndex === -1 ? url : url.slice(0, hashIndex);\n}\n\nfunction getHashPath() {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  var href = window.location.href;\n  var hashIndex = href.indexOf('#');\n  return hashIndex === -1 ? '' : href.substring(hashIndex + 1);\n}\n\nfunction pushHashPath(path) {\n  window.location.hash = path;\n}\n\nfunction replaceHashPath(path) {\n  window.location.replace(stripHash(window.location.href) + '#' + path);\n}\n\nfunction createHashHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Hash history needs a DOM') : invariant(false) : void 0;\n  var globalHistory = window.history;\n  var canGoWithoutReload = supportsGoWithoutReloadUsingHash();\n  var _props = props,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$hashType = _props.hashType,\n      hashType = _props$hashType === void 0 ? 'slash' : _props$hashType;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n  var _HashPathCoders$hashT = HashPathCoders[hashType],\n      encodePath = _HashPathCoders$hashT.encodePath,\n      decodePath = _HashPathCoders$hashT.decodePath;\n\n  function getDOMLocation() {\n    var path = decodePath(getHashPath());\n    process.env.NODE_ENV !== \"production\" ? warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".') : void 0;\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  var forceNextPop = false;\n  var ignorePath = null;\n\n  function locationsAreEqual$$1(a, b) {\n    return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash;\n  }\n\n  function handleHashChange() {\n    var path = getHashPath();\n    var encodedPath = encodePath(path);\n\n    if (path !== encodedPath) {\n      // Ensure we always have a properly-encoded hash.\n      replaceHashPath(encodedPath);\n    } else {\n      var location = getDOMLocation();\n      var prevLocation = history.location;\n      if (!forceNextPop && locationsAreEqual$$1(prevLocation, location)) return; // A hashchange doesn't always == location change.\n\n      if (ignorePath === createPath(location)) return; // Ignore this change; we already setState in push/replace.\n\n      ignorePath = null;\n      handlePop(location);\n    }\n  }\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of paths we've seen in sessionStorage.\n    // Instead, we just default to 0 for paths we don't know.\n\n    var toIndex = allPaths.lastIndexOf(createPath(toLocation));\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allPaths.lastIndexOf(createPath(fromLocation));\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  } // Ensure the hash is encoded properly before doing anything else.\n\n\n  var path = getHashPath();\n  var encodedPath = encodePath(path);\n  if (path !== encodedPath) replaceHashPath(encodedPath);\n  var initialLocation = getDOMLocation();\n  var allPaths = [createPath(initialLocation)]; // Public interface\n\n  function createHref(location) {\n    var baseTag = document.querySelector('base');\n    var href = '';\n\n    if (baseTag && baseTag.getAttribute('href')) {\n      href = stripHash(window.location.href);\n    }\n\n    return href + '#' + encodePath(basename + createPath(location));\n  }\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Hash history cannot push state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a PUSH, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        pushHashPath(encodedPath);\n        var prevIndex = allPaths.lastIndexOf(createPath(history.location));\n        var nextPaths = allPaths.slice(0, prevIndex + 1);\n        nextPaths.push(path);\n        allPaths = nextPaths;\n        setState({\n          action: action,\n          location: location\n        });\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'Hash history cannot PUSH the same path; a new entry will not be added to the history stack') : void 0;\n        setState();\n      }\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Hash history cannot replace state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a REPLACE, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        replaceHashPath(encodedPath);\n      }\n\n      var prevIndex = allPaths.indexOf(createPath(history.location));\n      if (prevIndex !== -1) allPaths[prevIndex] = path;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n    process.env.NODE_ENV !== \"production\" ? warning(canGoWithoutReload, 'Hash history go(n) causes a full page reload in this browser') : void 0;\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(HashChangeEvent$1, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(HashChangeEvent$1, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nfunction clamp(n, lowerBound, upperBound) {\n  return Math.min(Math.max(n, lowerBound), upperBound);\n}\n/**\n * Creates a history object that stores locations in memory.\n */\n\n\nfunction createMemoryHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      getUserConfirmation = _props.getUserConfirmation,\n      _props$initialEntries = _props.initialEntries,\n      initialEntries = _props$initialEntries === void 0 ? ['/'] : _props$initialEntries,\n      _props$initialIndex = _props.initialIndex,\n      initialIndex = _props$initialIndex === void 0 ? 0 : _props$initialIndex,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = history.entries.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var index = clamp(initialIndex, 0, initialEntries.length - 1);\n  var entries = initialEntries.map(function (entry) {\n    return typeof entry === 'string' ? createLocation(entry, undefined, createKey()) : createLocation(entry, undefined, entry.key || createKey());\n  }); // Public interface\n\n  var createHref = createPath;\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var prevIndex = history.index;\n      var nextIndex = prevIndex + 1;\n      var nextEntries = history.entries.slice(0);\n\n      if (nextEntries.length > nextIndex) {\n        nextEntries.splice(nextIndex, nextEntries.length - nextIndex, location);\n      } else {\n        nextEntries.push(location);\n      }\n\n      setState({\n        action: action,\n        location: location,\n        index: nextIndex,\n        entries: nextEntries\n      });\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      history.entries[history.index] = location;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n    var nextIndex = clamp(history.index + n, 0, history.entries.length - 1);\n    var action = 'POP';\n    var location = history.entries[nextIndex];\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (ok) {\n        setState({\n          action: action,\n          location: location,\n          index: nextIndex\n        });\n      } else {\n        // Mimic the behavior of DOM histories by\n        // causing a render after a cancelled POP.\n        setState();\n      }\n    });\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  function canGo(n) {\n    var nextIndex = history.index + n;\n    return nextIndex >= 0 && nextIndex < history.entries.length;\n  }\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    return transitionManager.setPrompt(prompt);\n  }\n\n  function listen(listener) {\n    return transitionManager.appendListener(listener);\n  }\n\n  var history = {\n    length: entries.length,\n    action: 'POP',\n    location: entries[index],\n    index: index,\n    entries: entries,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    canGo: canGo,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nexport { createBrowserHistory, createHashHistory, createMemoryHistory, createLocation, locationsAreEqual, parsePath, createPath };\n","import _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { BaseRouter, BaseNativeRouter } from '@medux/route-web';\nimport { createBrowserHistory, createHashHistory, createMemoryHistory } from 'history';\nimport { env } from '@medux/core';\nexport var BrowserNativeRouter = function (_BaseNativeRouter) {\n  _inheritsLoose(BrowserNativeRouter, _BaseNativeRouter);\n\n  function BrowserNativeRouter(createHistory) {\n    var _this;\n\n    _this = _BaseNativeRouter.call(this) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"_unlistenHistory\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"history\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"serverSide\", false);\n\n    if (createHistory === 'Hash') {\n      _this.history = createHashHistory();\n    } else if (createHistory === 'Memory') {\n      _this.history = createMemoryHistory();\n    } else if (createHistory === 'Browser') {\n      _this.history = createBrowserHistory();\n    } else {\n      _this.serverSide = true;\n\n      var _createHistory$split = createHistory.split('?'),\n          pathname = _createHistory$split[0],\n          _createHistory$split$ = _createHistory$split[1],\n          search = _createHistory$split$ === void 0 ? '' : _createHistory$split$;\n\n      _this.history = {\n        action: 'PUSH',\n        length: 0,\n        listen: function listen() {\n          return function () {\n            return undefined;\n          };\n        },\n        createHref: function createHref() {\n          return '';\n        },\n        push: function push() {},\n        replace: function replace() {},\n        go: function go() {},\n        goBack: function goBack() {},\n        goForward: function goForward() {},\n        block: function block() {\n          return function () {\n            return undefined;\n          };\n        },\n        location: {\n          pathname: pathname,\n          search: search && \"?\" + search,\n          hash: ''\n        }\n      };\n    }\n\n    _this._unlistenHistory = _this.history.block(function (location, action) {\n      var _location$pathname = location.pathname,\n          pathname = _location$pathname === void 0 ? '' : _location$pathname,\n          _location$search = location.search,\n          search = _location$search === void 0 ? '' : _location$search,\n          _location$hash = location.hash,\n          hash = _location$hash === void 0 ? '' : _location$hash;\n      var url = [pathname, search, hash].join('');\n\n      var key = _this.getKey(location);\n\n      var changed = _this.onChange(key);\n\n      if (changed) {\n        var index = -1;\n        var callback;\n\n        if (action === 'POP') {\n          index = _this.router.findHistoryIndexByKey(key);\n        }\n\n        if (index > -1) {\n          callback = function callback() {\n            return _this.router.back(index + 1, '', false, false);\n          };\n        } else if (action === 'REPLACE') {\n          callback = function callback() {\n            return _this.router.replace(url, false, false);\n          };\n        } else if (action === 'PUSH') {\n          callback = function callback() {\n            return _this.router.push(url, false, false);\n          };\n        } else {\n          callback = function callback() {\n            return _this.router.relaunch(url, false, false);\n          };\n        }\n\n        callback && env.setTimeout(callback, 50);\n        return false;\n      }\n\n      return undefined;\n    });\n    return _this;\n  }\n\n  var _proto = BrowserNativeRouter.prototype;\n\n  _proto.getUrl = function getUrl() {\n    var _this$history$locatio = this.history.location,\n        _this$history$locatio2 = _this$history$locatio.pathname,\n        pathname = _this$history$locatio2 === void 0 ? '' : _this$history$locatio2,\n        _this$history$locatio3 = _this$history$locatio.search,\n        search = _this$history$locatio3 === void 0 ? '' : _this$history$locatio3,\n        _this$history$locatio4 = _this$history$locatio.hash,\n        hash = _this$history$locatio4 === void 0 ? '' : _this$history$locatio4;\n    return [pathname, search, hash].join('');\n  };\n\n  _proto.getKey = function getKey(location) {\n    return location.state || '';\n  };\n\n  _proto.passive = function passive(url, key, action) {\n    return true;\n  };\n\n  _proto.refresh = function refresh() {\n    this.history.go(0);\n  };\n\n  _proto.push = function push(getNativeData, key) {\n    if (!this.serverSide) {\n      var nativeData = getNativeData();\n      this.history.push(nativeData.nativeUrl, key);\n      return nativeData;\n    }\n\n    return undefined;\n  };\n\n  _proto.replace = function replace(getNativeData, key) {\n    if (!this.serverSide) {\n      var nativeData = getNativeData();\n      this.history.replace(nativeData.nativeUrl, key);\n      return nativeData;\n    }\n\n    return undefined;\n  };\n\n  _proto.relaunch = function relaunch(getNativeData, key) {\n    if (!this.serverSide) {\n      var nativeData = getNativeData();\n      this.history.push(nativeData.nativeUrl, key);\n      return nativeData;\n    }\n\n    return undefined;\n  };\n\n  _proto.back = function back(getNativeData, n, key) {\n    if (!this.serverSide) {\n      var nativeData = getNativeData();\n      this.history.go(-n);\n      return nativeData;\n    }\n\n    return undefined;\n  };\n\n  _proto.toOutside = function toOutside(url) {\n    this.history.push(url);\n  };\n\n  _proto.destroy = function destroy() {\n    this._unlistenHistory();\n  };\n\n  return BrowserNativeRouter;\n}(BaseNativeRouter);\nexport var Router = function (_BaseRouter) {\n  _inheritsLoose(Router, _BaseRouter);\n\n  function Router(browserNativeRouter, locationTransform) {\n    return _BaseRouter.call(this, browserNativeRouter.getUrl(), browserNativeRouter, locationTransform) || this;\n  }\n\n  return Router;\n}(BaseRouter);\nexport function createRouter(createHistory, locationTransform) {\n  var browserNativeRouter = new BrowserNativeRouter(createHistory);\n  var router = new Router(browserNativeRouter, locationTransform);\n  return router;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React, {ComponentType, Component} from 'react';\nimport {RootModuleFacade, getView, isPromise, env} from '@medux/core';\nimport type {BaseLoadView} from '@medux/core';\n\nexport type LoadView<A extends RootModuleFacade = {}> = BaseLoadView<A, {OnError?: ComponentType<{message: string}>; OnLoading?: ComponentType<{}>}>;\n\nconst loadViewDefaultOptions: {LoadViewOnError: ComponentType<{message: string}>; LoadViewOnLoading: ComponentType<{}>} = {\n  LoadViewOnError: ({message}) => <div className=\"g-view-error\">{message}</div>,\n  LoadViewOnLoading: () => <div className=\"g-view-loading\">loading...</div>,\n};\nexport function setLoadViewOptions({\n  LoadViewOnError,\n  LoadViewOnLoading,\n}: {\n  LoadViewOnError?: ComponentType<{message: string}>;\n  LoadViewOnLoading?: ComponentType<{}>;\n}) {\n  LoadViewOnError && (loadViewDefaultOptions.LoadViewOnError = LoadViewOnError);\n  LoadViewOnLoading && (loadViewDefaultOptions.LoadViewOnLoading = LoadViewOnLoading);\n}\n\nexport const loadView: LoadView = (moduleName, viewName, options) => {\n  const {OnLoading, OnError} = options || {};\n  class Loader extends Component<{forwardedRef: any}> {\n    private active: boolean = true;\n\n    private loading: boolean = false;\n\n    private error: string = '';\n\n    private view?: ComponentType<any>;\n\n    state = {\n      ver: 0,\n    };\n\n    constructor(props: any) {\n      super(props);\n      this.execute();\n    }\n\n    componentWillUnmount() {\n      this.active = false;\n    }\n\n    shouldComponentUpdate() {\n      this.execute();\n      return true;\n    }\n\n    componentDidMount() {\n      this.error = '';\n    }\n\n    execute() {\n      if (!this.view && !this.loading && !this.error) {\n        this.loading = true;\n        let result: ComponentType<any> | Promise<ComponentType<any>> | undefined;\n        try {\n          result = getView<ComponentType<any>>(moduleName, viewName);\n        } catch (e: any) {\n          this.loading = false;\n          this.error = e.message || `${e}`;\n        }\n        if (result) {\n          if (isPromise(result)) {\n            result.then(\n              (view) => {\n                this.loading = false;\n                this.view = view;\n                this.active && this.setState({ver: this.state.ver + 1});\n              },\n              (e) => {\n                env.console.error(e);\n                this.loading = false;\n                this.error = e.message || `${e}` || 'error';\n                this.active && this.setState({ver: this.state.ver + 1});\n              }\n            );\n          } else {\n            this.loading = false;\n            this.view = result;\n          }\n        }\n      }\n    }\n\n    render() {\n      const {forwardedRef, ...rest} = this.props;\n\n      if (this.view) {\n        return <this.view ref={forwardedRef} {...rest} />;\n      }\n      if (this.loading) {\n        const Comp = OnLoading || loadViewDefaultOptions.LoadViewOnLoading;\n        return <Comp />;\n      }\n      const Comp = OnError || loadViewDefaultOptions.LoadViewOnError;\n      return <Comp message={this.error} />;\n    }\n  }\n  return React.forwardRef((props, ref) => {\n    return <Loader {...props} forwardedRef={ref} />;\n  }) as any;\n};\n","import type {Router} from '@medux/route-browser';\n\nexport const MetaData: {\n  router: Router<any, string>;\n} = {\n  router: undefined as any,\n};\n","import React, {ReactNode, useEffect} from 'react';\nimport {env, isServer} from '@medux/core';\n\ninterface Props {\n  children?: ReactNode;\n}\n\nconst Component: React.FC<Props> = ({children}) => {\n  let title = '';\n  React.Children.forEach(children, (child: any) => {\n    if (child && child.type === 'title') {\n      title = child.props.children;\n    }\n  });\n  if (!isServer()) {\n    useEffect(() => {\n      if (title) {\n        env.document.title = title;\n      }\n    }, [title]);\n    return null;\n  }\n  return <head>{children}</head>;\n};\n\nexport const DocumentHead = React.memo(Component);\n","import React, {ReactNode} from 'react';\n\ninterface Props {\n  elseView?: ReactNode;\n  children: ReactNode;\n}\nconst Component: React.FC<Props> = ({children, elseView}) => {\n  const arr: ReactNode[] = [];\n  React.Children.forEach(children, (item) => {\n    item && arr.push(item);\n  });\n  if (arr.length > 0) {\n    return <>{arr}</>;\n  }\n  return <>{elseView}</>;\n};\n\nexport const Else = React.memo(Component);\n","import React, {ReactNode} from 'react';\n\ninterface Props {\n  elseView?: ReactNode;\n  children: ReactNode;\n}\nconst Component: React.FC<Props> = ({children, elseView}) => {\n  const arr: ReactNode[] = [];\n  React.Children.forEach(children, (item) => {\n    item && arr.push(item);\n  });\n  if (arr.length > 0) {\n    return <>{arr[0]}</>;\n  }\n  return <>{elseView}</>;\n};\n\nexport const Switch = React.memo(Component);\n","/* eslint-disable import/order */\nimport './env';\nimport React from 'react';\nimport {unmountComponentAtNode, hydrate, render} from 'react-dom';\nimport {routeMiddleware, setRouteConfig, routeConfig} from '@medux/route-web';\nimport {env, getRootModuleAPI, renderApp, ssrApp, setConfig as setCoreConfig, exportModule as baseExportModule} from '@medux/core';\nimport {createRouter} from '@medux/route-browser';\nimport {loadView, setLoadViewOptions} from './loadView';\nimport {MetaData} from './sington';\nimport type {ComponentType} from 'react';\nimport type {\n  ModuleGetter,\n  ExportModule,\n  ControllerMiddleware,\n  StoreBuilder,\n  BStoreOptions,\n  BStore,\n  RootModuleFacade,\n  RootModuleAPI,\n  RootModuleActions,\n} from '@medux/core';\nimport type {RouteModule} from '@medux/route-web';\nimport type {IRouter} from '@medux/route-browser';\nimport type {LoadView} from './loadView';\n\nexport type {RootModuleFacade as Facade, Dispatch, CoreModuleState} from '@medux/core';\n\nexport type {\n  RouteState,\n  PayloadLocation,\n  LocationTransform,\n  NativeLocation,\n  PagenameMap,\n  HistoryAction,\n  Location,\n  DeepPartial,\n} from '@medux/route-web';\nexport type {LoadView} from './loadView';\n\nexport {\n  ActionTypes,\n  LoadingState,\n  modelHotReplacement,\n  env,\n  effect,\n  errorAction,\n  reducer,\n  viewHotReplacement,\n  setLoading,\n  logger,\n  isServer,\n  serverSide,\n  clientSide,\n  deepMerge,\n  deepMergeState,\n  isProcessedError,\n  setProcessedError,\n} from '@medux/core';\nexport {ModuleWithRouteHandlers as BaseModuleHandlers, RouteActionTypes, createRouteModule} from '@medux/route-web';\n\nexport {DocumentHead} from './components/DocumentHead';\nexport {Else} from './components/Else';\nexport {Switch} from './components/Switch';\nexport {Link} from './components/Link';\n\ndeclare const require: any;\n\nlet SSRTPL: string;\n\nexport function setSsrHtmlTpl(tpl: string) {\n  SSRTPL = tpl;\n}\n\nexport function setConfig(conf: {\n  actionMaxHistory?: number;\n  pagesMaxHistory?: number;\n  pagenames?: {[key: string]: string};\n  NSP?: string;\n  MSP?: string;\n  MutableData?: boolean;\n  DepthTimeOnLoading?: number;\n  LoadViewOnError?: ComponentType<{message: string}>;\n  LoadViewOnLoading?: ComponentType<{}>;\n  disableNativeRoute?: boolean;\n}) {\n  setCoreConfig(conf);\n  setRouteConfig(conf);\n  setLoadViewOptions(conf);\n}\n\nexport const exportModule: ExportModule<ComponentType<any>> = baseExportModule;\n\nexport interface RenderOptions {\n  id?: string;\n  ssrKey?: string;\n}\nexport interface SSROptions {\n  id?: string;\n  ssrKey?: string;\n  url: string;\n}\n\nexport function createApp(\n  moduleGetter: ModuleGetter,\n  middlewares: ControllerMiddleware[] = [],\n  appModuleName: string = 'app',\n  appViewName: string = 'main'\n) {\n  const controllerMiddleware = [routeMiddleware, ...middlewares];\n  const {locationTransform} = moduleGetter['route']() as RouteModule;\n  return {\n    useStore<O extends BStoreOptions = BStoreOptions, B extends BStore = BStore>({storeOptions, storeCreator}: StoreBuilder<O, B>) {\n      return {\n        render({id = 'root', ssrKey = 'meduxInitStore'}: RenderOptions = {}) {\n          const router = createRouter('Browser', locationTransform);\n          const routeState = router.getRouteState();\n          const ssrData = env[ssrKey];\n          const renderFun = ssrData ? hydrate : render;\n          const panel = env.document.getElementById(id);\n          const initState = {...storeOptions.initState, route: routeState, ...ssrData};\n          const baseStore = storeCreator({...storeOptions, initState});\n          const {store, beforeRender} = renderApp(baseStore, Object.keys(initState), moduleGetter, controllerMiddleware, appModuleName, appViewName);\n          router.setStore(store);\n          MetaData.router = router;\n          return {\n            store,\n            run() {\n              return beforeRender().then(({appView, setReRender}) => {\n                const reRender = (View: ComponentType<any>) => {\n                  unmountComponentAtNode(panel!);\n                  renderFun(<View store={store} />, panel);\n                };\n                reRender(appView);\n                setReRender(reRender);\n              });\n            },\n          };\n        },\n        ssr({id = 'root', ssrKey = 'meduxInitStore', url}: SSROptions) {\n          if (!SSRTPL) {\n            SSRTPL = env.decodeBas64('process.env.MEDUX_ENV_SSRTPL');\n          }\n          const router = createRouter(url, locationTransform);\n          const routeState = router.getRouteState();\n          const initState = {...storeOptions.initState, route: routeState};\n          const baseStore = storeCreator({...storeOptions, initState});\n          const {store, beforeRender} = ssrApp(\n            baseStore,\n            Object.keys(routeState.params),\n            moduleGetter,\n            controllerMiddleware,\n            appModuleName,\n            appViewName\n          );\n          router.setStore(store);\n          MetaData.router = router;\n          return {\n            store,\n            run() {\n              return beforeRender().then(({appView: AppView}) => {\n                const data = store.getState();\n                let html: string = require('react-dom/server').renderToString(<AppView store={store} />);\n\n                const match = SSRTPL.match(new RegExp(`<[^<>]+id=['\"]${id}['\"][^<>]*>`, 'm'));\n                if (match) {\n                  const pageHead = html.split(/<head>|<\\/head>/, 3);\n                  html = pageHead.length === 3 ? pageHead[0] + pageHead[2] : html;\n                  return SSRTPL.replace(\n                    '</head>',\n                    `${pageHead[1] || ''}\\r\\n<script>window.${ssrKey} = ${JSON.stringify(data)};</script>\\r\\n</head>`\n                  ).replace(match[0], match[0] + html);\n                }\n                return html;\n              });\n            },\n          };\n        },\n      };\n    },\n  };\n}\n\nexport function patchActions(typeName: string, json?: string): void {\n  if (json) {\n    getRootModuleAPI(JSON.parse(json));\n  }\n}\n\nexport type GetAPP<A extends RootModuleFacade> = {\n  State: {[M in keyof A]?: A[M]['state']};\n  GetRouter: () => IRouter<A['route']['state']['params'], A['route']['viewName']>;\n  GetActions<N extends keyof A>(...args: N[]): {[K in N]: A[K]['actions']};\n  LoadView: LoadView<A>;\n  Modules: RootModuleAPI<A>;\n  Actions: RootModuleActions<A>;\n  Pagenames: {[K in A['route']['viewName']]: K};\n};\n\nexport function getApp<T extends {GetActions: any; GetRouter: any; LoadView: any; Modules: any; Pagenames: any}>(): Pick<\n  T,\n  'GetActions' | 'GetRouter' | 'LoadView' | 'Modules' | 'Pagenames'\n> {\n  const modules = getRootModuleAPI();\n  return {\n    GetActions: (...args: string[]) => {\n      return args.reduce((prev, moduleName) => {\n        prev[moduleName] = modules[moduleName].actions;\n        return prev;\n      }, {});\n    },\n    GetRouter: () => MetaData.router,\n    LoadView: loadView,\n    Modules: modules,\n    Pagenames: routeConfig.pagenames,\n  };\n}\n","import React from 'react';\nimport {MetaData} from '../sington';\n\nexport interface Props extends React.AnchorHTMLAttributes<HTMLAnchorElement> {\n  replace?: boolean;\n}\n\nfunction isModifiedEvent(event: React.MouseEvent<HTMLAnchorElement, MouseEvent>) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\nexport const Link = React.forwardRef<HTMLAnchorElement, Props>(({onClick, replace, ...rest}, ref) => {\n  const {target} = rest;\n  const props = {\n    ...rest,\n    onClick: (event: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => {\n      try {\n        onClick && onClick(event);\n      } catch (ex) {\n        event.preventDefault();\n        throw ex;\n      }\n\n      if (\n        !event.defaultPrevented && // onClick prevented default\n        event.button === 0 && // ignore everything but left clicks\n        (!target || target === '_self') && // let browser handle \"target=_blank\" etc.\n        !isModifiedEvent(event) // ignore clicks with modifier keys\n      ) {\n        event.preventDefault();\n        replace ? MetaData.router.replace(rest.href!) : MetaData.router.push(rest.href!);\n      }\n    },\n  };\n  return <a {...props} ref={ref} />;\n});\n"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","LoadingState","env","self","window","global","module","Function","_assertThisInitialized","ReferenceError","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_inheritsLoose","subClass","superClass","create","constructor","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","isServer","TaskCounter","_SingleDispatcher","deferSecond","_this","_proto3","addItem","promise","note","_this2","list","some","item","push","finally","completeItem","ctimer","dispatch","Start","setTimeout","Depth","findIndex","splice","clearTimeout","Stop","SingleDispatcher","_proto","addListener","callback","listenerId","id","listenerMap","data","keys","forEach","isPlainObject","Array","isArray","__deepMerge","optimize","inject","src","val","deepMerge","_len","args","_key","filter","index","lastArg","last2Arg","isPromise","then","config","NSP","MSP","MutableData","DepthTimeOnLoading","ActionTypes","MLoading","MInit","MReInit","Error","MetaData","injectedModules","reducersMap","effectsMap","transformAction","actionName","handler","listenerModule","actionHandlerMap","str","process","NODE_ENV","console","warn","injectActions","moduleName","handlers","actionNames","__isReducer__","__isEffect__","split","trim","replace","RegExp","loadings","setLoading","groupName","appModuleName","loadingState","store","clientStore","_actions","_action","actions","facadeMap","reducer","descriptor","deepMergeState","concat","mergeState","_len2","_key2","errorAction","error","type","payload","_arrayLikeToArray","arr","len","arr2","_toArray","arrayWithHoles","iter","Symbol","iterator","from","iterableToArray","minLen","arrayLikeToArray","n","toString","slice","name","test","unsupportedIterableToArray","TypeError","nonIterableRest","_typeof","_toPropertyKey","arg","input","hint","prim","toPrimitive","undefined","res","String","Number","_decorate","decorators","factory","mixins","api","_getDecoratorsApi","r","O","initializeInstanceElements","decorated","elements","decorateClass","newElements","isSameElement","other","kind","element","placement","find","_isDataDescriptor","_hasDecorators","_coalesceGetterSetter","_coalesceClassElements","d","map","_createElementDescriptor","initializeClassElements","F","runClassFinishers","finishers","elementsDefinitionOrder","defineClassElement","proto","receiver","initializer","placements","own","addElementPlacement","elementFinishersExtras","decorateElement","extras","result","decorateConstructor","silent","indexOf","elementObject","fromElementDescriptor","elementFinisherExtras","toElementFinisherExtras","finisher","newExtras","j","fromClassDescriptor","elementsAndFinisher","toClassDescriptor","k","toStringTag","toElementDescriptors","elementObjects","toArray","toElementDescriptor","disallowProperty","toPropertyKey","_optionalCallableProperty","newConstructor","objectType","def","get","set","desc","exportModule","ModuleHandles","views","model","moduleHandles","_initState","initState","getState","moduleReInitAction","moduleInitAction","cacheModule","default","moduleGetter","fn","__module__","getModuleByName","_loadModel","controller","moduleOrPromise","CoreModuleHandlers","_initialize","getCurrentActionName","getCurrentState","action","state","loading","clearHandlers","_actionName","getRootModuleAPI","reduce","prev","moduleFacade","cacheData","Proxy","Reflect","__","isProcessedError","__meduxProcessed__","setProcessedError","meduxProcessed","message","getActionData","compose","funcs","a","b","enhanceStore","baseStore","middlewares","_getState","currentData","prevState","update","_dispatch2","middlewareAPI","preMiddleware","next","_action$type$split","loadModel","respondHandler","isReducer","prevData","handlersMap","actionModuleName","handlerModuleNames","orderList","unshift","priority","implemented","actionData","modelInstance","effectResult","__decorators__","results","decorator","__decoratorResults__","reslove","_results","_results2","applyEffect","Promise","all","newState","chain","middleware","runtime","exports","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","define","err","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","GenStateSuspendedStart","method","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","done","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","resolve","reject","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","object","reverse","pop","skipTempReset","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","reRender","reRenderTimer","appView","defFun","encodeBas64","btoa","Buffer","decodeBas64","atob","routeConfig","actionMaxHistory","pagesMaxHistory","pagenames","defaultParams","disableNativeRoute","indexUrl","setRouteConfig","conf","splitQuery","query","params","sections","decodeURIComponent","join","joinQuery","encodeURIComponent","locationToUri","location","pagename","JSON","stringify","uri","splitUri","_args$","_uri$split","others","uriToLocation","_splitUri","parse","History","parent","isHistoryRecord","curRecord","_locationToUri","_uri","sub","getLength","getRecord","keyOrIndex","getCurrentInternalHistory","getStack","getUriStack","getPageStack","pages","_pages$","historyRecord","_locationToUri2","actionsMax","pagesMax","_locationToUri3","relaunch","_locationToUri4","back","delta","_actions$","pre","curStack","ctag","_defineProperties","props","__extendDefault","clone","tval","dval","extendDefault","__excludeDefault","hasSub","defaultValue","excludeDefault","keepTopLevel","filtered","__splitPrivate","publicData","privateData","startsWith","_splitPrivate","subPublicData","subPrivateData","splitPrivate","deleteTopLevel","assignDefaultData","dataIsNativeLocation","ModuleWithRouteHandlers","_CoreModuleHandlers","_CoreModuleHandlers2","routeParams","rootState","route","RouteActionTypes","MRouteParams","RouteChange","TestRouteChange","testRouteChangeAction","routeState","routeChangeAction","routeMiddleware","_ref","rootRouteParams","_rootState$moduleName","initialized","routeParamsAction","RouteModuleHandlers","Constructor","protoProps","staticProps","BaseNativeRouter","onChange","curTask","nativeData","router","getCurKey","setRouter","execute","getNativeData","task","catch","e","BaseRouter","nativeLocationOrNativeUrl","nativeRouter","locationTransform","nativeUrlToLocation","nativeLocationToLocation","_createKey","meduxUrl","locationToMeduxUrl","_nativeData","history","_relaunch2","_push2","_replace2","_back2","_proto2","_lid","getRouteState","getPagename","getParams","getMeduxUrl","getNativeLocation","_nativeLocation","out","_nativeUrl","nativeLocationToNativeUrl","nativeLocation","nativeUrl","getNativeUrl","_nativeLocation2","_nativeUrl2","setStore","_store","findHistoryIndexByKey","_tid","nativeUrlToNativeLocation","url","pathname","searchData","hashData","path","search","hash","_nativeUrlToNativeLocation","in","urlToLocation","_url$split","_data","_nativeLocation3","locationToNativeUrl","payloadToPartial","extendParams","internal","disableNative","addTask","_relaunch","bind","_regeneratorRuntime","_callee","_context","toOutside","_x","_x2","_x3","_push","_callee2","_this3","_context2","_x4","_x5","_x6","_replace","_callee3","_this4","_context3","_x7","_x8","_x9","_back","_callee4","stack","_uriToLocation","_this5","_context4","code","_x10","_x11","_x12","_x13","taskComplete","taskList","shift","executeTask","destroy","isAbsolute","spliceOne","isProduction","warning","condition","text","x","prefix","invariant","addLeadingSlash","stripLeadingSlash","substr","hasBasename","toLowerCase","stripBasename","stripTrailingSlash","createPath","createLocation","currentLocation","hashIndex","searchIndex","parsePath","decodeURI","URIError","to","hasTrailingSlash","toParts","fromParts","isToAbs","isFromAbs","mustEndAbs","last","up","part","resolvePathname","createTransitionManager","prompt","listeners","setPrompt","nextPrompt","confirmTransitionTo","getUserConfirmation","appendListener","isActive","listener","notifyListeners","canUseDOM","document","createElement","getConfirmation","confirm","PopStateEvent","HashChangeEvent","getHistoryState","createBrowserHistory","ua","globalHistory","canUseHistory","navigator","userAgent","needsHashChangeListener","_props","_props$forceRefresh","forceRefresh","_props$getUserConfirm","_props$keyLength","keyLength","basename","getDOMLocation","historyState","_window$location","createKey","Math","random","transitionManager","setState","nextState","handlePopState","event","isExtraneousPopstateEvent","handlePop","handleHashChange","forceNextPop","ok","fromLocation","toLocation","toIndex","allKeys","fromIndex","go","revertPop","initialLocation","createHref","listenerCount","checkDOMListeners","addEventListener","removeEventListener","isBlocked","href","pushState","prevIndex","nextKeys","replaceState","goBack","goForward","block","unblock","listen","unlisten","HashChangeEvent$1","HashPathCoders","hashbang","encodePath","decodePath","noslash","slash","stripHash","getHashPath","substring","replaceHashPath","createHashHistory","canGoWithoutReload","_props$hashType","hashType","_HashPathCoders$hashT","ignorePath","encodedPath","prevLocation","allPaths","lastIndexOf","baseTag","querySelector","getAttribute","pushHashPath","nextPaths","clamp","lowerBound","upperBound","min","max","BrowserNativeRouter","_BaseNativeRouter","createHistory","_props$initialEntries","initialEntries","_props$initialIndex","initialIndex","entries","nextIndex","nextEntries","canGo","createMemoryHistory","serverSide","_createHistory$split","_createHistory$split$","_unlistenHistory","_location$pathname","_location$search","_location$hash","getKey","getUrl","_this$history$locatio","_this$history$locatio2","_this$history$locatio3","_this$history$locatio4","passive","refresh","Router","_BaseRouter","browserNativeRouter","createRouter","_objectWithoutPropertiesLoose","excluded","sourceKeys","loadViewDefaultOptions","LoadViewOnError","React","className","LoadViewOnLoading","loadView","viewName","options","OnLoading","OnError","Loader","ver","componentWillUnmount","active","shouldComponentUpdate","componentDidMount","view","getView","render","forwardedRef","rest","ref","Comp","_Comp","Component","forwardRef","DocumentHead","memo","children","title","Children","child","useEffect","Else","elseView","Switch","SSRTPL","Link","onClick","ex","preventDefault","defaultPrevented","button","metaKey","altKey","ctrlKey","shiftKey","isModifiedEvent","baseExportModule","appViewName","controllerMiddleware","useStore","storeOptions","storeCreator","ssrKey","ssrData","renderFun","hydrate","panel","getElementById","preLoadModules","beforeRender","appModule","setReRender","hotRender","renderApp","run","View","unmountComponentAtNode","ssr","ssrApp","AppView","html","require","renderToString","match","pageHead","pagenameMap","nativeLocationMap","notfoundPagename","paramsKey","sort","searchParams","hashParams","_pathArgs","argsToParams","meduxLocation","_ref2","pathParams","_pathArgs2","paramsToArgs","createLocationTransform","loadingForGroupName","loadingForModuleName","fun","curAction","promiseResult","modules","GetActions","GetRouter","LoadView","Modules","Pagenames","before","after","log","typeName","json","_config","tpl"],"mappings":"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"}