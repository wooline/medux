{"version":3,"file":"index.min.js","sources":["../../../core/dist/esm/sprite.js","../../../core/dist/esm/basic.js","../../../core/dist/esm/actions.js","../../../core/dist/esm/store.js","../../../core/dist/esm/module.js","../../../route-plan-a/dist/esm/path-to-regexp.js","../../../route-plan-a/dist/esm/matchPath.js","../../../../node_modules/deep-extend/lib/deep-extend.js","../../../route-plan-a/dist/esm/index.js","../../../react/dist/esm/index.js","../../../web/dist/esm/index.js","../../src/index.tsx"],"sourcesContent":["import _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nexport var TaskCountEvent = 'TaskCountEvent';\nexport var LoadingState;\n\n(function (LoadingState) {\n  LoadingState[\"Start\"] = \"Start\";\n  LoadingState[\"Stop\"] = \"Stop\";\n  LoadingState[\"Depth\"] = \"Depth\";\n})(LoadingState || (LoadingState = {}));\n\nexport var PEvent = function () {\n  function PEvent(name, data, bubbling) {\n    if (bubbling === void 0) {\n      bubbling = false;\n    }\n\n    this.name = name;\n    this.data = data;\n    this.bubbling = bubbling;\n\n    _defineProperty(this, \"target\", null);\n\n    _defineProperty(this, \"currentTarget\", null);\n  }\n\n  var _proto = PEvent.prototype;\n\n  _proto.setTarget = function setTarget(target) {\n    this.target = target;\n  };\n\n  _proto.setCurrentTarget = function setCurrentTarget(target) {\n    this.currentTarget = target;\n  };\n\n  return PEvent;\n}();\nexport var PDispatcher = function () {\n  function PDispatcher(parent) {\n    this.parent = parent;\n\n    _defineProperty(this, \"storeHandlers\", {});\n  }\n\n  var _proto2 = PDispatcher.prototype;\n\n  _proto2.addListener = function addListener(ename, handler) {\n    var dictionary = this.storeHandlers[ename];\n\n    if (!dictionary) {\n      this.storeHandlers[ename] = dictionary = [];\n    }\n\n    dictionary.push(handler);\n    return this;\n  };\n\n  _proto2.removeListener = function removeListener(ename, handler) {\n    var _this = this;\n\n    if (!ename) {\n      Object.keys(this.storeHandlers).forEach(function (key) {\n        delete _this.storeHandlers[key];\n      });\n    } else {\n      var handlers = this.storeHandlers;\n\n      if (handlers.propertyIsEnumerable(ename)) {\n        var dictionary = handlers[ename];\n\n        if (!handler) {\n          delete handlers[ename];\n        } else {\n          var n = dictionary.indexOf(handler);\n\n          if (n > -1) {\n            dictionary.splice(n, 1);\n          }\n\n          if (dictionary.length === 0) {\n            delete handlers[ename];\n          }\n        }\n      }\n    }\n\n    return this;\n  };\n\n  _proto2.dispatch = function dispatch(evt) {\n    if (!evt.target) {\n      evt.setTarget(this);\n    }\n\n    evt.setCurrentTarget(this);\n    var dictionary = this.storeHandlers[evt.name];\n\n    if (dictionary) {\n      for (var i = 0, k = dictionary.length; i < k; i++) {\n        dictionary[i](evt);\n      }\n    }\n\n    if (this.parent && evt.bubbling) {\n      this.parent.dispatch(evt);\n    }\n\n    return this;\n  };\n\n  _proto2.setParent = function setParent(parent) {\n    this.parent = parent;\n    return this;\n  };\n\n  return PDispatcher;\n}();\nexport var TaskCounter = function (_PDispatcher) {\n  _inheritsLoose(TaskCounter, _PDispatcher);\n\n  var _super = _createSuper(TaskCounter);\n\n  function TaskCounter(deferSecond) {\n    var _this2;\n\n    _this2 = _PDispatcher.call(this) || this;\n    _this2.deferSecond = deferSecond;\n\n    _defineProperty(_assertThisInitialized(_this2), \"list\", []);\n\n    _defineProperty(_assertThisInitialized(_this2), \"ctimer\", null);\n\n    return _this2;\n  }\n\n  var _proto3 = TaskCounter.prototype;\n\n  _proto3.addItem = function addItem(promise, note) {\n    var _this3 = this;\n\n    if (note === void 0) {\n      note = '';\n    }\n\n    if (!this.list.some(function (item) {\n      return item.promise === promise;\n    })) {\n      this.list.push({\n        promise: promise,\n        note: note\n      });\n      promise.then(function () {\n        return _this3.completeItem(promise);\n      }, function () {\n        return _this3.completeItem(promise);\n      });\n\n      if (this.list.length === 1) {\n        this.dispatch(new PEvent(TaskCountEvent, LoadingState.Start));\n        this.ctimer = setTimeout(function () {\n          _this3.ctimer = null;\n\n          if (_this3.list.length > 0) {\n            _this3.dispatch(new PEvent(TaskCountEvent, LoadingState.Depth));\n          }\n        }, this.deferSecond * 1000);\n      }\n    }\n\n    return promise;\n  };\n\n  _proto3.completeItem = function completeItem(promise) {\n    var i = this.list.findIndex(function (item) {\n      return item.promise === promise;\n    });\n\n    if (i > -1) {\n      this.list.splice(i, 1);\n\n      if (this.list.length === 0) {\n        if (this.ctimer) {\n          clearTimeout(this.ctimer);\n          this.ctimer = null;\n        }\n\n        this.dispatch(new PEvent(TaskCountEvent, LoadingState.Stop));\n      }\n    }\n\n    return this;\n  };\n\n  return TaskCounter;\n}(PDispatcher);","import { TaskCountEvent, TaskCounter } from './sprite';\nvar loadings = {};\nvar depthTime = 2;\nexport function setLoadingDepthTime(second) {\n  depthTime = second;\n}\nexport function setLoading(item, moduleName, group) {\n  if (moduleName === void 0) {\n    moduleName = MetaData.appModuleName;\n  }\n\n  if (group === void 0) {\n    group = 'global';\n  }\n\n  if (MetaData.isServer) {\n    return item;\n  }\n\n  var key = moduleName + config.NSP + group;\n\n  if (!loadings[key]) {\n    loadings[key] = new TaskCounter(depthTime);\n    loadings[key].addListener(TaskCountEvent, function (e) {\n      var store = MetaData.clientStore;\n\n      if (store) {\n        var _actions;\n\n        var actions = MetaData.actionCreatorMap[moduleName][ActionTypes.MLoading];\n\n        var _action = actions((_actions = {}, _actions[group] = e.data, _actions));\n\n        store.dispatch(_action);\n      }\n    });\n  }\n\n  loadings[key].addItem(item);\n  return item;\n}\nexport var config = {\n  NSP: '/',\n  VSP: '.',\n  MSP: ','\n};\nexport function setConfig(_config) {\n  _config.NSP && (config.NSP = _config.NSP);\n  _config.VSP && (config.VSP = _config.VSP);\n  _config.MSP && (config.MSP = _config.MSP);\n}\nexport var MetaData = {\n  isServer: typeof global !== 'undefined' && typeof window === 'undefined',\n  isDev: process.env.NODE_ENV !== 'production',\n  actionCreatorMap: null,\n  clientStore: null,\n  appModuleName: null,\n  moduleGetter: null\n};\nexport var ActionTypes = {\n  MLoading: 'Loading',\n  MInit: 'Init',\n  MRouteParams: 'RouteParams',\n  Error: \"medux\" + config.NSP + \"Error\",\n  RouteChange: \"medux\" + config.NSP + \"RouteChange\"\n};\nexport var client = MetaData.isServer ? undefined : typeof window === 'undefined' ? global : window;\nexport function isPromise(data) {\n  return typeof data === 'object' && typeof data['then'] === 'function';\n}\nexport function getClientStore() {\n  return MetaData.clientStore;\n}\nexport function isServer() {\n  return MetaData.isServer;\n}\nexport function reducer(target, key, descriptor) {\n  if (!key && !descriptor) {\n    key = target.key;\n    descriptor = target.descriptor;\n  }\n\n  var fun = descriptor.value;\n  fun.__actionName__ = key;\n  fun.__isReducer__ = true;\n  descriptor.enumerable = true;\n  return target.descriptor === descriptor ? target : descriptor;\n}\nexport function effect(loadingForGroupName, loadingForModuleName) {\n  if (loadingForGroupName === undefined) {\n    loadingForGroupName = 'global';\n    loadingForModuleName = MetaData.appModuleName;\n  }\n\n  return function (target, key, descriptor) {\n    if (!key && !descriptor) {\n      key = target.key;\n      descriptor = target.descriptor;\n    }\n\n    var fun = descriptor.value;\n    fun.__actionName__ = key;\n    fun.__isEffect__ = true;\n    descriptor.enumerable = true;\n\n    if (loadingForGroupName) {\n      var before = function before(curAction, moduleName, promiseResult) {\n        if (!MetaData.isServer) {\n          if (!loadingForModuleName) {\n            loadingForModuleName = moduleName;\n          }\n\n          setLoading(promiseResult, loadingForModuleName, loadingForGroupName);\n        }\n      };\n\n      if (!fun.__decorators__) {\n        fun.__decorators__ = [];\n      }\n\n      fun.__decorators__.push([before, null]);\n    }\n\n    return target.descriptor === descriptor ? target : descriptor;\n  };\n}\nexport function logger(before, after) {\n  return function (target, key, descriptor) {\n    if (!key && !descriptor) {\n      key = target.key;\n      descriptor = target.descriptor;\n    }\n\n    var fun = descriptor.value;\n\n    if (!fun.__decorators__) {\n      fun.__decorators__ = [];\n    }\n\n    fun.__decorators__.push([before, after]);\n  };\n}\nexport function delayPromise(second) {\n  return function (target, key, descriptor) {\n    if (!key && !descriptor) {\n      key = target.key;\n      descriptor = target.descriptor;\n    }\n\n    var fun = descriptor.value;\n\n    descriptor.value = function () {\n      var delay = new Promise(function (resolve) {\n        setTimeout(function () {\n          resolve(true);\n        }, second * 1000);\n      });\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return Promise.all([delay, fun.apply(target, args)]).then(function (items) {\n        return items[1];\n      });\n    };\n  };\n}\nexport function isProcessedError(error) {\n  if (typeof error !== 'object' || error.meduxProcessed === undefined) {\n    return undefined;\n  } else {\n    return !!error.meduxProcessed;\n  }\n}\nexport function setProcessedError(error, meduxProcessed) {\n  if (typeof error === 'object') {\n    error.meduxProcessed = meduxProcessed;\n    return error;\n  } else {\n    return {\n      meduxProcessed: meduxProcessed,\n      error: error\n    };\n  }\n}\n\nfunction bindThis(fun, thisObj) {\n  var newFun = fun.bind(thisObj);\n  Object.keys(fun).forEach(function (key) {\n    newFun[key] = fun[key];\n  });\n  return newFun;\n}\n\nfunction transformAction(actionName, action, listenerModule, actionHandlerMap) {\n  if (!actionHandlerMap[actionName]) {\n    actionHandlerMap[actionName] = {};\n  }\n\n  if (actionHandlerMap[actionName][listenerModule]) {\n    throw new Error(\"Action duplicate or conflict : \" + actionName + \".\");\n  }\n\n  actionHandlerMap[actionName][listenerModule] = action;\n}\n\nfunction addModuleActionCreatorList(moduleName, actionName) {\n  var actions = MetaData.actionCreatorMap[moduleName];\n\n  if (!actions[actionName]) {\n    actions[actionName] = function () {\n      for (var _len2 = arguments.length, payload = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        payload[_key2] = arguments[_key2];\n      }\n\n      return {\n        type: moduleName + config.NSP + actionName,\n        payload: payload\n      };\n    };\n  }\n}\n\nexport function injectActions(store, moduleName, handlers) {\n  for (var actionNames in handlers) {\n    if (typeof handlers[actionNames] === 'function') {\n      (function () {\n        var handler = handlers[actionNames];\n\n        if (handler.__isReducer__ || handler.__isEffect__) {\n          handler = bindThis(handler, handlers);\n          actionNames.split(config.MSP).forEach(function (actionName) {\n            actionName = actionName.trim().replace(new RegExp(\"^this[\" + config.NSP + \"]\"), \"\" + moduleName + config.NSP);\n            var arr = actionName.split(config.NSP);\n\n            if (arr[1]) {\n              handler.__isHandler__ = true;\n              transformAction(actionName, handler, moduleName, handler.__isEffect__ ? store._medux_.effectMap : store._medux_.reducerMap);\n            } else {\n              handler.__isHandler__ = false;\n              transformAction(moduleName + config.NSP + actionName, handler, moduleName, handler.__isEffect__ ? store._medux_.effectMap : store._medux_.reducerMap);\n              addModuleActionCreatorList(moduleName, actionName);\n            }\n          });\n        }\n      })();\n    }\n  }\n\n  return MetaData.actionCreatorMap[moduleName];\n}","import { ActionTypes, config } from './basic';\nexport function errorAction(error) {\n  return {\n    type: ActionTypes.Error,\n    payload: [error]\n  };\n}\nexport function routeChangeAction(route) {\n  return {\n    type: ActionTypes.RouteChange,\n    payload: [route]\n  };\n}\nexport function routeParamsAction(moduleName, params) {\n  return {\n    type: \"\" + moduleName + config.NSP + ActionTypes.MRouteParams,\n    payload: [params]\n  };\n}","import { ActionTypes, MetaData, client, config, isProcessedError, isPromise, setProcessedError } from './basic';\nimport { applyMiddleware, compose, createStore } from 'redux';\nimport { errorAction, routeChangeAction, routeParamsAction } from './actions';\n\nfunction isPromiseModule(module) {\n  return typeof module['then'] === 'function';\n}\n\nexport function loadModel(moduleName, store, options) {\n  var hasInjected = store._medux_.injectedModules[moduleName];\n\n  if (!hasInjected) {\n    var moduleGetter = MetaData.moduleGetter;\n    var result = moduleGetter[moduleName]();\n\n    if (isPromiseModule(result)) {\n      return result.then(function (module) {\n        moduleGetter[moduleName] = function () {\n          return module;\n        };\n\n        return module.default.model(store, options);\n      });\n    } else {\n      return result.default.model(store, options);\n    }\n  }\n}\nexport function getActionData(action) {\n  return Array.isArray(action.payload) ? action.payload : [];\n}\n\nfunction bindHistory(store, history) {\n  var inTimeTravelling = false;\n\n  var handleLocationChange = function handleLocationChange(location) {\n    if (!inTimeTravelling) {\n      var _ref = store.getState(),\n          route = _ref.route;\n\n      if (route) {\n        if (history.equal(route.location, location)) {\n          return;\n        }\n      }\n\n      var data = history.locationToRouteData(location);\n      store.dispatch(routeChangeAction({\n        location: location,\n        data: data\n      }));\n    } else {\n      inTimeTravelling = false;\n    }\n  };\n\n  history.subscribe(handleLocationChange);\n  store.subscribe(function () {\n    if (history.initialized) {\n      var storeRouteState = store.getState().route;\n\n      if (!history.equal(storeRouteState.location, history.getLocation())) {\n        inTimeTravelling = true;\n        history.patch(storeRouteState.location, storeRouteState.data);\n      }\n    }\n  });\n  history.initialized && handleLocationChange(history.getLocation());\n}\n\nexport function buildStore(history, preloadedState, storeReducers, storeMiddlewares, storeEnhancers) {\n  if (preloadedState === void 0) {\n    preloadedState = {};\n  }\n\n  if (storeReducers === void 0) {\n    storeReducers = {};\n  }\n\n  if (storeMiddlewares === void 0) {\n    storeMiddlewares = [];\n  }\n\n  if (storeEnhancers === void 0) {\n    storeEnhancers = [];\n  }\n\n  if (storeReducers.route) {\n    throw new Error(\"the reducer name 'route' is not allowed\");\n  }\n\n  storeReducers.route = function (state, action) {\n    if (action.type === ActionTypes.RouteChange) {\n      var payload = getActionData(action)[0];\n\n      if (!state) {\n        return payload;\n      }\n\n      return Object.assign({}, state, {}, payload);\n    }\n\n    return state;\n  };\n\n  var combineReducers = function combineReducers(rootState, action) {\n    if (!store) {\n      return rootState;\n    }\n\n    var meta = store._medux_;\n    meta.prevState = rootState;\n    var currentState = Object.assign({}, rootState);\n    meta.currentState = currentState;\n    Object.keys(storeReducers).forEach(function (moduleName) {\n      currentState[moduleName] = storeReducers[moduleName](currentState[moduleName], action);\n    });\n    var handlersCommon = meta.reducerMap[action.type] || {};\n    var handlersEvery = meta.reducerMap[action.type.replace(new RegExp(\"[^\" + config.NSP + \"]+\"), '*')] || {};\n    var handlers = Object.assign({}, handlersCommon, {}, handlersEvery);\n    var handlerModules = Object.keys(handlers);\n\n    if (handlerModules.length > 0) {\n      var orderList = [];\n      var priority = action.priority ? [].concat(action.priority) : [];\n      handlerModules.forEach(function (moduleName) {\n        var fun = handlers[moduleName];\n\n        if (moduleName === MetaData.appModuleName) {\n          orderList.unshift(moduleName);\n        } else {\n          orderList.push(moduleName);\n        }\n\n        if (!fun.__isHandler__) {\n          priority.unshift(moduleName);\n        }\n      });\n      orderList.unshift.apply(orderList, priority);\n      var moduleNameMap = {};\n      orderList.forEach(function (moduleName) {\n        if (!moduleNameMap[moduleName]) {\n          moduleNameMap[moduleName] = true;\n          var fun = handlers[moduleName];\n          currentState[moduleName] = fun.apply(void 0, getActionData(action));\n        }\n      });\n    }\n\n    var changed = Object.keys(rootState).length !== Object.keys(currentState).length || Object.keys(rootState).some(function (moduleName) {\n      return rootState[moduleName] !== currentState[moduleName];\n    });\n    meta.prevState = changed ? currentState : rootState;\n    return meta.prevState;\n  };\n\n  var middleware = function middleware(_ref2) {\n    var dispatch = _ref2.dispatch;\n    return function (next) {\n      return function (originalAction) {\n        if (MetaData.isServer) {\n          if (originalAction.type.split(config.NSP)[1] === ActionTypes.MLoading) {\n            return originalAction;\n          }\n        }\n\n        var meta = store._medux_;\n        meta.beforeState = meta.prevState;\n        var action = next(originalAction);\n\n        if (action.type === ActionTypes.RouteChange) {\n          var rootRouteParams = meta.prevState.route.data.params;\n          Object.keys(rootRouteParams).forEach(function (moduleName) {\n            var routeParams = rootRouteParams[moduleName];\n\n            if (routeParams && Object.keys(routeParams).length > 0 && meta.injectedModules[moduleName]) {\n              dispatch(routeParamsAction(moduleName, routeParams));\n            }\n          });\n        }\n\n        var handlersCommon = meta.effectMap[action.type] || {};\n        var handlersEvery = meta.effectMap[action.type.replace(new RegExp(\"[^\" + config.NSP + \"]+\"), '*')] || {};\n        var handlers = Object.assign({}, handlersCommon, {}, handlersEvery);\n        var handlerModules = Object.keys(handlers);\n\n        if (handlerModules.length > 0) {\n          var orderList = [];\n          var priority = action.priority ? [].concat(action.priority) : [];\n          handlerModules.forEach(function (moduleName) {\n            var fun = handlers[moduleName];\n\n            if (moduleName === MetaData.appModuleName) {\n              orderList.unshift(moduleName);\n            } else {\n              orderList.push(moduleName);\n            }\n\n            if (!fun.__isHandler__) {\n              priority.unshift(moduleName);\n            }\n          });\n          orderList.unshift.apply(orderList, priority);\n          var moduleNameMap = {};\n          var promiseResults = [];\n          orderList.forEach(function (moduleName) {\n            if (!moduleNameMap[moduleName]) {\n              moduleNameMap[moduleName] = true;\n              var fun = handlers[moduleName];\n              var effectResult = fun.apply(void 0, getActionData(action));\n              var decorators = fun.__decorators__;\n\n              if (decorators) {\n                var results = [];\n                decorators.forEach(function (decorator, index) {\n                  results[index] = decorator[0](action, moduleName, effectResult);\n                });\n                fun.__decoratorResults__ = results;\n              }\n\n              var errorHandler = effectResult.then(function (reslove) {\n                if (decorators) {\n                  var _results = fun.__decoratorResults__ || [];\n\n                  decorators.forEach(function (decorator, index) {\n                    if (decorator[1]) {\n                      decorator[1]('Resolved', _results[index], reslove);\n                    }\n                  });\n                  fun.__decoratorResults__ = undefined;\n                }\n\n                return reslove;\n              }, function (error) {\n                if (decorators) {\n                  var _results2 = fun.__decoratorResults__ || [];\n\n                  decorators.forEach(function (decorator, index) {\n                    if (decorator[1]) {\n                      decorator[1]('Rejected', _results2[index], error);\n                    }\n                  });\n                  fun.__decoratorResults__ = undefined;\n                }\n\n                if (action.type === ActionTypes.Error) {\n                  if (isProcessedError(error) === undefined) {\n                    error = setProcessedError(error, true);\n                  }\n\n                  throw error;\n                } else if (isProcessedError(error)) {\n                  throw error;\n                } else {\n                  return dispatch(errorAction(error));\n                }\n              });\n              promiseResults.push(errorHandler);\n            }\n          });\n\n          if (promiseResults.length) {\n            return Promise.all(promiseResults);\n          }\n        }\n\n        return action;\n      };\n    };\n  };\n\n  var preLoadMiddleware = function preLoadMiddleware() {\n    return function (next) {\n      return function (action) {\n        var _action$type$split = action.type.split(config.NSP),\n            moduleName = _action$type$split[0],\n            actionName = _action$type$split[1];\n\n        if (moduleName && actionName && MetaData.moduleGetter[moduleName]) {\n          var initModel = loadModel(moduleName, store, undefined);\n\n          if (isPromise(initModel)) {\n            return initModel.then(function () {\n              return next(action);\n            });\n          }\n        }\n\n        return next(action);\n      };\n    };\n  };\n\n  var middlewareEnhancer = applyMiddleware.apply(void 0, [preLoadMiddleware].concat(storeMiddlewares, [middleware]));\n\n  var enhancer = function enhancer(newCreateStore) {\n    return function () {\n      var newStore = newCreateStore.apply(void 0, arguments);\n      var modelStore = newStore;\n      modelStore._medux_ = {\n        beforeState: {},\n        prevState: {},\n        currentState: {},\n        reducerMap: {},\n        effectMap: {},\n        injectedModules: {},\n        currentViews: {}\n      };\n      return newStore;\n    };\n  };\n\n  var enhancers = [].concat(storeEnhancers, [middlewareEnhancer, enhancer]);\n\n  if (MetaData.isDev && client && client.__REDUX_DEVTOOLS_EXTENSION__) {\n    enhancers.push(client.__REDUX_DEVTOOLS_EXTENSION__(client.__REDUX_DEVTOOLS_EXTENSION__OPTIONS));\n  }\n\n  var store = createStore(combineReducers, preloadedState, compose.apply(void 0, enhancers));\n  bindHistory(store, history);\n  MetaData.clientStore = store;\n  return store;\n}","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _decorate from \"@babel/runtime/helpers/esm/decorate\";\nimport { MetaData, client, config, injectActions, isPromise, reducer } from './basic';\nimport { buildStore, loadModel as _loadModel } from './store';\nexport var exportModule = function exportModule(moduleName, initState, ActionHandles, views) {\n  var model = function model(store, options) {\n    var hasInjected = store._medux_.injectedModules[moduleName];\n\n    if (!hasInjected) {\n      store._medux_.injectedModules[moduleName] = true;\n      var moduleState = store.getState()[moduleName];\n      var handlers = new ActionHandles(moduleName, store);\n\n      var _actions = injectActions(store, moduleName, handlers);\n\n      handlers.actions = _actions;\n\n      if (!moduleState) {\n        var params = store._medux_.prevState.route.data.params;\n        initState.isModule = true;\n\n        var initAction = _actions.Init(initState, params[moduleName], options);\n\n        return store.dispatch(initAction);\n      }\n    }\n\n    return void 0;\n  };\n\n  model.moduleName = moduleName;\n  model.initState = initState;\n  var actions = {};\n  return {\n    moduleName: moduleName,\n    model: model,\n    views: views,\n    actions: actions\n  };\n};\nexport var BaseModelHandlers = _decorate(null, function (_initialize) {\n  var BaseModelHandlers = function BaseModelHandlers(moduleName, store) {\n    this.moduleName = moduleName;\n    this.store = store;\n\n    _initialize(this);\n  };\n\n  return {\n    F: BaseModelHandlers,\n    d: [{\n      kind: \"field\",\n      key: \"actions\",\n      value: function value() {\n        return null;\n      }\n    }, {\n      kind: \"get\",\n      key: \"state\",\n      value: function state() {\n        return this.getState();\n      }\n    }, {\n      kind: \"method\",\n      key: \"getState\",\n      value: function getState() {\n        return this.store._medux_.prevState[this.moduleName];\n      }\n    }, {\n      kind: \"get\",\n      key: \"rootState\",\n      value: function rootState() {\n        return this.getRootState();\n      }\n    }, {\n      kind: \"method\",\n      key: \"getRootState\",\n      value: function getRootState() {\n        return this.store._medux_.prevState;\n      }\n    }, {\n      kind: \"get\",\n      key: \"currentState\",\n      value: function currentState() {\n        return this.getCurrentState();\n      }\n    }, {\n      kind: \"method\",\n      key: \"getCurrentState\",\n      value: function getCurrentState() {\n        return this.store._medux_.currentState[this.moduleName];\n      }\n    }, {\n      kind: \"get\",\n      key: \"currentRootState\",\n      value: function currentRootState() {\n        return this.getCurrentRootState();\n      }\n    }, {\n      kind: \"method\",\n      key: \"getCurrentRootState\",\n      value: function getCurrentRootState() {\n        return this.store._medux_.currentState;\n      }\n    }, {\n      kind: \"get\",\n      key: \"beforeState\",\n      value: function beforeState() {\n        return this.getBeforeState();\n      }\n    }, {\n      kind: \"method\",\n      key: \"getBeforeState\",\n      value: function getBeforeState() {\n        return this.store._medux_.beforeState[this.moduleName];\n      }\n    }, {\n      kind: \"get\",\n      key: \"beforeRootState\",\n      value: function beforeRootState() {\n        return this.getBeforeRootState();\n      }\n    }, {\n      kind: \"method\",\n      key: \"getBeforeRootState\",\n      value: function getBeforeRootState() {\n        return this.store._medux_.beforeState;\n      }\n    }, {\n      kind: \"method\",\n      key: \"dispatch\",\n      value: function dispatch(action) {\n        return this.store.dispatch(action);\n      }\n    }, {\n      kind: \"method\",\n      key: \"callThisAction\",\n      value: function callThisAction(handler) {\n        var actions = MetaData.actionCreatorMap[this.moduleName];\n\n        for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          rest[_key - 1] = arguments[_key];\n        }\n\n        return actions[handler.__actionName__].apply(actions, rest);\n      }\n    }, {\n      kind: \"method\",\n      key: \"updateState\",\n      value: function updateState(payload) {\n        this.dispatch(this.callThisAction(this.Update, Object.assign({}, this.getState(), {}, payload)));\n      }\n    }, {\n      kind: \"method\",\n      key: \"loadModel\",\n      value: function loadModel(moduleName, options) {\n        return _loadModel(moduleName, this.store, options);\n      }\n    }, {\n      kind: \"method\",\n      decorators: [reducer],\n      key: \"Init\",\n      value: function Init(initState, routeParams, options) {\n        return Object.assign({}, initState, {\n          routeParams: routeParams || initState.routeParams\n        }, options);\n      }\n    }, {\n      kind: \"method\",\n      decorators: [reducer],\n      key: \"Update\",\n      value: function Update(payload) {\n        return payload;\n      }\n    }, {\n      kind: \"method\",\n      decorators: [reducer],\n      key: \"RouteParams\",\n      value: function RouteParams(payload) {\n        var state = this.getState();\n        return Object.assign({}, state, {\n          routeParams: payload\n        });\n      }\n    }, {\n      kind: \"method\",\n      decorators: [reducer],\n      key: \"Loading\",\n      value: function Loading(payload) {\n        var state = this.getState();\n        return Object.assign({}, state, {\n          loading: Object.assign({}, state.loading, {}, payload)\n        });\n      }\n    }]\n  };\n});\nexport function isPromiseModule(module) {\n  return typeof module['then'] === 'function';\n}\nexport function isPromiseView(moduleView) {\n  return typeof moduleView['then'] === 'function';\n}\nexport function exportActions(moduleGetter) {\n  MetaData.moduleGetter = moduleGetter;\n  MetaData.actionCreatorMap = Object.keys(moduleGetter).reduce(function (maps, moduleName) {\n    maps[moduleName] = typeof Proxy === 'undefined' ? {} : new Proxy({}, {\n      get: function get(target, key) {\n        return function () {\n          for (var _len2 = arguments.length, payload = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            payload[_key2] = arguments[_key2];\n          }\n\n          return {\n            type: moduleName + config.NSP + key,\n            payload: payload\n          };\n        };\n      },\n      set: function set() {\n        return true;\n      }\n    });\n    return maps;\n  }, {});\n  return MetaData.actionCreatorMap;\n}\nexport function getView(moduleName, viewName, modelOptions) {\n  var moduleGetter = MetaData.moduleGetter;\n  var result = moduleGetter[moduleName]();\n\n  if (isPromiseModule(result)) {\n    return result.then(function (module) {\n      moduleGetter[moduleName] = function () {\n        return module;\n      };\n\n      var view = module.default.views[viewName];\n\n      if (MetaData.isServer) {\n        return view;\n      }\n\n      var initModel = module.default.model(MetaData.clientStore, modelOptions);\n\n      if (isPromise(initModel)) {\n        return initModel.then(function () {\n          return view;\n        });\n      } else {\n        return view;\n      }\n    });\n  } else {\n    var view = result.default.views[viewName];\n\n    if (MetaData.isServer) {\n      return view;\n    }\n\n    var initModel = result.default.model(MetaData.clientStore, modelOptions);\n\n    if (isPromise(initModel)) {\n      return initModel.then(function () {\n        return view;\n      });\n    } else {\n      return view;\n    }\n  }\n}\n\nfunction getModuleByName(moduleName, moduleGetter) {\n  var result = moduleGetter[moduleName]();\n\n  if (isPromiseModule(result)) {\n    return result.then(function (module) {\n      moduleGetter[moduleName] = function () {\n        return module;\n      };\n\n      return module;\n    });\n  } else {\n    return result;\n  }\n}\n\nfunction getModuleListByNames(moduleNames, moduleGetter) {\n  var preModules = moduleNames.map(function (moduleName) {\n    var module = getModuleByName(moduleName, moduleGetter);\n\n    if (isPromiseModule(module)) {\n      return module;\n    } else {\n      return Promise.resolve(module);\n    }\n  });\n  return Promise.all(preModules);\n}\n\nexport function renderApp(render, moduleGetter, appModuleName, history, storeOptions, beforeRender) {\n  if (storeOptions === void 0) {\n    storeOptions = {};\n  }\n\n  MetaData.appModuleName = appModuleName;\n  var ssrInitStoreKey = storeOptions.ssrInitStoreKey || 'meduxInitStore';\n  var initData = {};\n\n  if (storeOptions.initData || client[ssrInitStoreKey]) {\n    initData = Object.assign({}, client[ssrInitStoreKey], {}, storeOptions.initData);\n  }\n\n  var store = buildStore(history, initData, storeOptions.reducers, storeOptions.middlewares, storeOptions.enhancers);\n  var reduxStore = beforeRender ? beforeRender(store) : store;\n  var preModuleNames = [appModuleName];\n\n  if (initData) {\n    preModuleNames.push.apply(preModuleNames, Object.keys(initData).filter(function (key) {\n      return key !== appModuleName && initData[key].isModule;\n    }));\n  }\n\n  return getModuleListByNames(preModuleNames, moduleGetter).then(function (_ref) {\n    var appModule = _ref[0];\n    var initModel = appModule.default.model(reduxStore, undefined);\n    render(reduxStore, appModule.default.model, appModule.default.views, ssrInitStoreKey);\n    return initModel;\n  });\n}\nexport function renderSSR(_x, _x2, _x3, _x4, _x5, _x6) {\n  return _renderSSR.apply(this, arguments);\n}\n\nfunction _renderSSR() {\n  _renderSSR = _asyncToGenerator(_regeneratorRuntime.mark(function _callee(render, moduleGetter, appModuleName, history, storeOptions, beforeRender) {\n    var ssrInitStoreKey, store, reduxStore, storeState, paths, appModule, inited, i, k, _paths$i$split, _moduleName, module;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (storeOptions === void 0) {\n              storeOptions = {};\n            }\n\n            MetaData.appModuleName = appModuleName;\n            ssrInitStoreKey = storeOptions.ssrInitStoreKey || 'meduxInitStore';\n            store = buildStore(history, storeOptions.initData, storeOptions.reducers, storeOptions.middlewares, storeOptions.enhancers);\n            reduxStore = beforeRender ? beforeRender(store) : store;\n            storeState = reduxStore.getState();\n            paths = storeState.route.data.paths;\n            paths.length === 0 && paths.push(appModuleName);\n            appModule = undefined;\n            inited = {};\n            i = 0, k = paths.length;\n\n          case 11:\n            if (!(i < k)) {\n              _context.next = 22;\n              break;\n            }\n\n            _paths$i$split = paths[i].split(config.VSP), _moduleName = _paths$i$split[0];\n\n            if (inited[_moduleName]) {\n              _context.next = 19;\n              break;\n            }\n\n            inited[_moduleName] = true;\n            module = moduleGetter[_moduleName]();\n            _context.next = 18;\n            return module.default.model(reduxStore, undefined);\n\n          case 18:\n            if (i === 0) {\n              appModule = module;\n            }\n\n          case 19:\n            i++;\n            _context.next = 11;\n            break;\n\n          case 22:\n            return _context.abrupt(\"return\", render(reduxStore, appModule.default.model, appModule.default.views, ssrInitStoreKey));\n\n          case 23:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _renderSSR.apply(this, arguments);\n}","function _createForOfIteratorHelperLoose(o) { var i = 0; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } i = o[Symbol.iterator](); return i.next.bind(i); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction lexer(str) {\n  var tokens = [];\n  var i = 0;\n\n  while (i < str.length) {\n    var char = str[i];\n\n    if (char === '*' || char === '+' || char === '?') {\n      tokens.push({\n        type: 'MODIFIER',\n        index: i,\n        value: str[i++]\n      });\n      continue;\n    }\n\n    if (char === '\\\\') {\n      tokens.push({\n        type: 'ESCAPED_CHAR',\n        index: i++,\n        value: str[i++]\n      });\n      continue;\n    }\n\n    if (char === '{') {\n      tokens.push({\n        type: 'OPEN',\n        index: i,\n        value: str[i++]\n      });\n      continue;\n    }\n\n    if (char === '}') {\n      tokens.push({\n        type: 'CLOSE',\n        index: i,\n        value: str[i++]\n      });\n      continue;\n    }\n\n    if (char === ':') {\n      var name = '';\n      var j = i + 1;\n\n      while (j < str.length) {\n        var code = str.charCodeAt(j);\n\n        if (code >= 48 && code <= 57 || code >= 65 && code <= 90 || code >= 97 && code <= 122 || code === 95 || code === 46) {\n          name += str[j++];\n          continue;\n        }\n\n        break;\n      }\n\n      if (!name) throw new TypeError(\"Missing parameter name at \" + i);\n      tokens.push({\n        type: 'NAME',\n        index: i,\n        value: name\n      });\n      i = j;\n      continue;\n    }\n\n    if (char === '(') {\n      var count = 1;\n      var pattern = '';\n\n      var _j = i + 1;\n\n      if (str[_j] === '?') {\n        throw new TypeError(\"Pattern cannot start with \\\"?\\\" at \" + _j);\n      }\n\n      while (_j < str.length) {\n        if (str[_j] === '\\\\') {\n          pattern += str[_j++] + str[_j++];\n          continue;\n        }\n\n        if (str[_j] === ')') {\n          count--;\n\n          if (count === 0) {\n            _j++;\n            break;\n          }\n        } else if (str[_j] === '(') {\n          count++;\n\n          if (str[_j + 1] !== '?') {\n            throw new TypeError(\"Capturing groups are not allowed at \" + _j);\n          }\n        }\n\n        pattern += str[_j++];\n      }\n\n      if (count) throw new TypeError(\"Unbalanced pattern at \" + i);\n      if (!pattern) throw new TypeError(\"Missing pattern at \" + i);\n      tokens.push({\n        type: 'PATTERN',\n        index: i,\n        value: pattern\n      });\n      i = _j;\n      continue;\n    }\n\n    tokens.push({\n      type: 'CHAR',\n      index: i,\n      value: str[i++]\n    });\n  }\n\n  tokens.push({\n    type: 'END',\n    index: i,\n    value: ''\n  });\n  return tokens;\n}\n\nexport function parse(str, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var tokens = lexer(str);\n  var _options = options,\n      _options$prefixes = _options.prefixes,\n      prefixes = _options$prefixes === void 0 ? './' : _options$prefixes;\n  var defaultPattern = \"[^\" + escapeString(options.delimiter || '/#?') + \"]+?\";\n  var result = [];\n  var key = 0;\n  var i = 0;\n  var path = '';\n\n  var tryConsume = function tryConsume(type) {\n    if (i < tokens.length && tokens[i].type === type) return tokens[i++].value;\n    return undefined;\n  };\n\n  var mustConsume = function mustConsume(type) {\n    var value = tryConsume(type);\n    if (value !== undefined) return value;\n    var _tokens$i = tokens[i],\n        nextType = _tokens$i.type,\n        index = _tokens$i.index;\n    throw new TypeError(\"Unexpected \" + nextType + \" at \" + index + \", expected \" + type);\n  };\n\n  var consumeText = function consumeText() {\n    var result = '';\n    var value;\n\n    while (value = tryConsume('CHAR') || tryConsume('ESCAPED_CHAR')) {\n      result += value;\n    }\n\n    return result;\n  };\n\n  while (i < tokens.length) {\n    var char = tryConsume('CHAR');\n    var name = tryConsume('NAME');\n    var pattern = tryConsume('PATTERN');\n\n    if (name || pattern) {\n      var prefix = char || '';\n\n      if (prefixes.indexOf(prefix) === -1) {\n        path += prefix;\n        prefix = '';\n      }\n\n      if (path) {\n        result.push(path);\n        path = '';\n      }\n\n      result.push({\n        name: name || key++,\n        prefix: prefix,\n        suffix: '',\n        pattern: pattern || defaultPattern,\n        modifier: tryConsume('MODIFIER') || ''\n      });\n      continue;\n    }\n\n    var _value = char || tryConsume('ESCAPED_CHAR');\n\n    if (_value) {\n      path += _value;\n      continue;\n    }\n\n    if (path) {\n      result.push(path);\n      path = '';\n    }\n\n    var open = tryConsume('OPEN');\n\n    if (open) {\n      var _prefix = consumeText();\n\n      var _name = tryConsume('NAME') || '';\n\n      var _pattern = tryConsume('PATTERN') || '';\n\n      var suffix = consumeText();\n      mustConsume('CLOSE');\n      result.push({\n        name: _name || (_pattern ? key++ : ''),\n        pattern: _name && !_pattern ? defaultPattern : _pattern,\n        prefix: _prefix,\n        suffix: suffix,\n        modifier: tryConsume('MODIFIER') || ''\n      });\n      continue;\n    }\n\n    mustConsume('END');\n  }\n\n  return result;\n}\nexport function compile(str, options) {\n  return tokensToFunction(parse(str, options), options);\n}\nexport function tokensToFunction(tokens, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var reFlags = flags(options);\n  var _options2 = options,\n      _options2$encode = _options2.encode,\n      encode = _options2$encode === void 0 ? function (x) {\n    return x;\n  } : _options2$encode,\n      _options2$validate = _options2.validate,\n      validate = _options2$validate === void 0 ? true : _options2$validate;\n  var matches = tokens.map(function (token) {\n    if (typeof token === 'object') {\n      return new RegExp(\"^(?:\" + token.pattern + \")$\", reFlags);\n    }\n\n    return undefined;\n  });\n  return function (data) {\n    var path = '';\n\n    for (var i = 0; i < tokens.length; i++) {\n      var _token = tokens[i];\n\n      if (typeof _token === 'string') {\n        path += _token;\n        continue;\n      }\n\n      var _value2 = data ? data[_token.name] : undefined;\n\n      var optional = _token.modifier === '?' || _token.modifier === '*';\n      var repeat = _token.modifier === '*' || _token.modifier === '+';\n\n      if (Array.isArray(_value2)) {\n        if (!repeat) {\n          throw new TypeError(\"Expected \\\"\" + _token.name + \"\\\" to not repeat, but got an array\");\n        }\n\n        if (_value2.length === 0) {\n          if (optional) continue;\n          throw new TypeError(\"Expected \\\"\" + _token.name + \"\\\" to not be empty\");\n        }\n\n        for (var j = 0; j < _value2.length; j++) {\n          var segment = encode(_value2[j], _token);\n\n          if (validate && !matches[i].test(segment)) {\n            throw new TypeError(\"Expected all \\\"\" + _token.name + \"\\\" to match \\\"\" + _token.pattern + \"\\\", but got \\\"\" + segment + \"\\\"\");\n          }\n\n          path += _token.prefix + segment + _token.suffix;\n        }\n\n        continue;\n      }\n\n      if (typeof _value2 === 'string' || typeof _value2 === 'number') {\n        var _segment = encode(String(_value2), _token);\n\n        if (validate && !matches[i].test(_segment)) {\n          throw new TypeError(\"Expected \\\"\" + _token.name + \"\\\" to match \\\"\" + _token.pattern + \"\\\", but got \\\"\" + _segment + \"\\\"\");\n        }\n\n        path += _token.prefix + _segment + _token.suffix;\n        continue;\n      }\n\n      if (optional) continue;\n      var typeOfMessage = repeat ? 'an array' : 'a string';\n      throw new TypeError(\"Expected \\\"\" + _token.name + \"\\\" to be \" + typeOfMessage);\n    }\n\n    return path;\n  };\n}\nexport function match(str, options) {\n  var keys = [];\n  var re = pathToRegexp(str, keys, options);\n  return regexpToFunction(re, keys, options);\n}\nexport function regexpToFunction(re, keys, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options3 = options,\n      _options3$decode = _options3.decode,\n      decode = _options3$decode === void 0 ? function (x) {\n    return x;\n  } : _options3$decode;\n  return function (pathname) {\n    var m = re.exec(pathname);\n    if (!m) return false;\n    var path = m[0],\n        index = m.index;\n    var params = Object.create(null);\n\n    var _loop = function _loop(i) {\n      if (m[i] === undefined) return \"continue\";\n      var key = keys[i - 1];\n\n      if (key.modifier === '*' || key.modifier === '+') {\n        params[key.name] = m[i].split(key.prefix + key.suffix).map(function (value) {\n          return decode(value, key);\n        });\n      } else {\n        params[key.name] = decode(m[i], key);\n      }\n    };\n\n    for (var i = 1; i < m.length; i++) {\n      var _ret = _loop(i);\n\n      if (_ret === \"continue\") continue;\n    }\n\n    return {\n      path: path,\n      index: index,\n      params: params\n    };\n  };\n}\n\nfunction escapeString(str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, '\\\\$1');\n}\n\nfunction flags(options) {\n  return options && options.sensitive ? '' : 'i';\n}\n\nfunction regexpToRegexp(path, keys) {\n  if (!keys) return path;\n  var groups = path.source.match(/\\((?!\\?)/g);\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: '',\n        suffix: '',\n        modifier: '',\n        pattern: ''\n      });\n    }\n  }\n\n  return path;\n}\n\nfunction arrayToRegexp(paths, keys, options) {\n  var parts = paths.map(function (path) {\n    return pathToRegexp(path, keys, options).source;\n  });\n  return new RegExp(\"(?:\" + parts.join('|') + \")\", flags(options));\n}\n\nfunction stringToRegexp(path, keys, options) {\n  return tokensToRegexp(parse(path, options), keys, options);\n}\n\nexport function tokensToRegexp(tokens, keys, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options4 = options,\n      _options4$strict = _options4.strict,\n      strict = _options4$strict === void 0 ? false : _options4$strict,\n      _options4$start = _options4.start,\n      start = _options4$start === void 0 ? true : _options4$start,\n      _options4$end = _options4.end,\n      end = _options4$end === void 0 ? true : _options4$end,\n      _options4$encode = _options4.encode,\n      encode = _options4$encode === void 0 ? function (x) {\n    return x;\n  } : _options4$encode;\n  var endsWith = \"[\" + escapeString(options.endsWith || '') + \"]|$\";\n  var delimiter = \"[\" + escapeString(options.delimiter || '/#?') + \"]\";\n  var route = start ? '^' : '';\n\n  for (var _iterator = _createForOfIteratorHelperLoose(tokens), _step; !(_step = _iterator()).done;) {\n    var _token2 = _step.value;\n\n    if (typeof _token2 === 'string') {\n      route += escapeString(encode(_token2));\n    } else {\n      var prefix = escapeString(encode(_token2.prefix));\n      var suffix = escapeString(encode(_token2.suffix));\n\n      if (_token2.pattern) {\n        if (keys) keys.push(_token2);\n\n        if (prefix || suffix) {\n          if (_token2.modifier === '+' || _token2.modifier === '*') {\n            var mod = _token2.modifier === '*' ? '?' : '';\n            route += \"(?:\" + prefix + \"((?:\" + _token2.pattern + \")(?:\" + suffix + prefix + \"(?:\" + _token2.pattern + \"))*)\" + suffix + \")\" + mod;\n          } else {\n            route += \"(?:\" + prefix + \"(\" + _token2.pattern + \")\" + suffix + \")\" + _token2.modifier;\n          }\n        } else {\n          route += \"(\" + _token2.pattern + \")\" + _token2.modifier;\n        }\n      } else {\n        route += \"(?:\" + prefix + suffix + \")\" + _token2.modifier;\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += delimiter + \"?\";\n    route += !options.endsWith ? '$' : \"(?=\" + endsWith + \")\";\n  } else {\n    var endToken = tokens[tokens.length - 1];\n    var isEndDelimited = typeof endToken === 'string' ? delimiter.indexOf(endToken[endToken.length - 1]) > -1 : endToken === undefined;\n\n    if (!strict) {\n      route += \"(?:\" + delimiter + \"(?=\" + endsWith + \"))?\";\n    }\n\n    if (!isEndDelimited) {\n      route += \"(?=\" + delimiter + \"|\" + endsWith + \")\";\n    }\n  }\n\n  return new RegExp(route, flags(options));\n}\nexport function pathToRegexp(path, keys, options) {\n  if (path instanceof RegExp) return regexpToRegexp(path, keys);\n  if (Array.isArray(path)) return arrayToRegexp(path, keys, options);\n  return stringToRegexp(path, keys, options);\n}","import { compile, pathToRegexp } from './path-to-regexp';\nvar cache = {};\nvar cacheLimit = 10000;\nvar cacheCount = 0;\nexport function compileToPath(rule) {\n  if (cache[rule]) {\n    return cache[rule];\n  }\n\n  var result = compile(rule);\n\n  if (cacheCount < cacheLimit) {\n    cache[rule] = result;\n    cacheCount++;\n  }\n\n  return result;\n}\nexport function compilePath(path, options) {\n  if (options === void 0) {\n    options = {\n      end: false,\n      strict: false,\n      sensitive: false\n    };\n  }\n\n  var cacheKey = \"\" + options.end + options.strict + options.sensitive;\n  var pathCache = cache[cacheKey] || (cache[cacheKey] = {});\n\n  if (pathCache[path]) {\n    return pathCache[path];\n  }\n\n  var keys = [];\n  var regexp = pathToRegexp(path, keys, options);\n  var result = {\n    regexp: regexp,\n    keys: keys\n  };\n\n  if (cacheCount < cacheLimit) {\n    pathCache[path] = result;\n    cacheCount++;\n  }\n\n  return result;\n}\nexport function matchPath(pathname, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  if (typeof options === 'string' || Array.isArray(options)) {\n    options = {\n      path: options\n    };\n  }\n\n  var _options = options,\n      path = _options.path,\n      _options$exact = _options.exact,\n      exact = _options$exact === void 0 ? false : _options$exact,\n      _options$strict = _options.strict,\n      strict = _options$strict === void 0 ? false : _options$strict,\n      _options$sensitive = _options.sensitive,\n      sensitive = _options$sensitive === void 0 ? false : _options$sensitive;\n  var paths = [].concat(path);\n  return paths.reduce(function (matched, path) {\n    if (!path) return null;\n    if (matched) return matched;\n\n    if (path === '*') {\n      return {\n        path: path,\n        url: pathname,\n        isExact: true,\n        params: {}\n      };\n    }\n\n    var _compilePath = compilePath(path, {\n      end: exact,\n      strict: strict,\n      sensitive: sensitive\n    }),\n        regexp = _compilePath.regexp,\n        keys = _compilePath.keys;\n\n    var match = regexp.exec(pathname);\n    if (!match) return null;\n    var url = match[0],\n        values = match.slice(1);\n    var isExact = pathname === url;\n    if (exact && !isExact) return null;\n    return {\n      path: path,\n      url: path === '/' && url === '' ? '/' : url,\n      isExact: isExact,\n      params: keys.reduce(function (memo, key, index) {\n        memo[key.name] = values[index];\n        return memo;\n      }, {})\n    };\n  }, null);\n}\nexport default matchPath;","/*!\n * @description Recursive object extending\n * @author Viacheslav Lotsmanov <lotsmanov89@gmail.com>\n * @license MIT\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2013-2018 Viacheslav Lotsmanov\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\n * this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n * the Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n'use strict';\n\nfunction isSpecificValue(val) {\n\treturn (\n\t\tval instanceof Buffer\n\t\t|| val instanceof Date\n\t\t|| val instanceof RegExp\n\t) ? true : false;\n}\n\nfunction cloneSpecificValue(val) {\n\tif (val instanceof Buffer) {\n\t\tvar x = Buffer.alloc\n\t\t\t? Buffer.alloc(val.length)\n\t\t\t: new Buffer(val.length);\n\t\tval.copy(x);\n\t\treturn x;\n\t} else if (val instanceof Date) {\n\t\treturn new Date(val.getTime());\n\t} else if (val instanceof RegExp) {\n\t\treturn new RegExp(val);\n\t} else {\n\t\tthrow new Error('Unexpected situation');\n\t}\n}\n\n/**\n * Recursive cloning array.\n */\nfunction deepCloneArray(arr) {\n\tvar clone = [];\n\tarr.forEach(function (item, index) {\n\t\tif (typeof item === 'object' && item !== null) {\n\t\t\tif (Array.isArray(item)) {\n\t\t\t\tclone[index] = deepCloneArray(item);\n\t\t\t} else if (isSpecificValue(item)) {\n\t\t\t\tclone[index] = cloneSpecificValue(item);\n\t\t\t} else {\n\t\t\t\tclone[index] = deepExtend({}, item);\n\t\t\t}\n\t\t} else {\n\t\t\tclone[index] = item;\n\t\t}\n\t});\n\treturn clone;\n}\n\nfunction safeGetProperty(object, property) {\n\treturn property === '__proto__' ? undefined : object[property];\n}\n\n/**\n * Extening object that entered in first argument.\n *\n * Returns extended object or false if have no target object or incorrect type.\n *\n * If you wish to clone source object (without modify it), just use empty new\n * object as first argument, like this:\n *   deepExtend({}, yourObj_1, [yourObj_N]);\n */\nvar deepExtend = module.exports = function (/*obj_1, [obj_2], [obj_N]*/) {\n\tif (arguments.length < 1 || typeof arguments[0] !== 'object') {\n\t\treturn false;\n\t}\n\n\tif (arguments.length < 2) {\n\t\treturn arguments[0];\n\t}\n\n\tvar target = arguments[0];\n\n\t// convert arguments to array and cut off target object\n\tvar args = Array.prototype.slice.call(arguments, 1);\n\n\tvar val, src, clone;\n\n\targs.forEach(function (obj) {\n\t\t// skip argument if isn't an object, is null, or is an array\n\t\tif (typeof obj !== 'object' || obj === null || Array.isArray(obj)) {\n\t\t\treturn;\n\t\t}\n\n\t\tObject.keys(obj).forEach(function (key) {\n\t\t\tsrc = safeGetProperty(target, key); // source value\n\t\t\tval = safeGetProperty(obj, key); // new value\n\n\t\t\t// recursion prevention\n\t\t\tif (val === target) {\n\t\t\t\treturn;\n\n\t\t\t/**\n\t\t\t * if new value isn't object then just overwrite by new value\n\t\t\t * instead of extending.\n\t\t\t */\n\t\t\t} else if (typeof val !== 'object' || val === null) {\n\t\t\t\ttarget[key] = val;\n\t\t\t\treturn;\n\n\t\t\t// just clone arrays (and recursive clone objects inside)\n\t\t\t} else if (Array.isArray(val)) {\n\t\t\t\ttarget[key] = deepCloneArray(val);\n\t\t\t\treturn;\n\n\t\t\t// custom cloning and overwrite for specific objects\n\t\t\t} else if (isSpecificValue(val)) {\n\t\t\t\ttarget[key] = cloneSpecificValue(val);\n\t\t\t\treturn;\n\n\t\t\t// overwrite by new value if source isn't object or array\n\t\t\t} else if (typeof src !== 'object' || src === null || Array.isArray(src)) {\n\t\t\t\ttarget[key] = deepExtend({}, val);\n\t\t\t\treturn;\n\n\t\t\t// source value and new value is objects both, extending...\n\t\t\t} else {\n\t\t\t\ttarget[key] = deepExtend(src, val);\n\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\t});\n\n\treturn target;\n};\n","import { config as coreConfig } from '@medux/core';\nimport { compilePath, compileToPath, matchPath } from './matchPath';\nimport assignDeep from 'deep-extend';\nexport var deepAssign = assignDeep;\nvar config = {\n  escape: true,\n  dateParse: true,\n  splitKey: 'q',\n  defaultRouteParams: {}\n};\nexport function setRouteConfig(conf) {\n  conf.escape !== undefined && (config.escape = conf.escape);\n  conf.dateParse !== undefined && (config.dateParse = conf.dateParse);\n  conf.splitKey && (config.splitKey = conf.splitKey);\n  conf.defaultRouteParams && (config.defaultRouteParams = conf.defaultRouteParams);\n}\n\nfunction excludeDefaultData(data, def, holde, views) {\n  var result = {};\n  Object.keys(data).forEach(function (moduleName) {\n    var value = data[moduleName];\n    var defaultValue = def[moduleName];\n\n    if (value !== defaultValue) {\n      if (typeof value === typeof defaultValue && typeof value === 'object' && !Array.isArray(value)) {\n        value = excludeDefaultData(value, defaultValue, !!views && !views[moduleName]);\n      }\n\n      if (value !== undefined) {\n        result[moduleName] = value;\n      }\n    }\n  });\n\n  if (Object.keys(result).length === 0 && !holde) {\n    return undefined;\n  }\n\n  return result;\n}\n\nvar ISO_DATE_FORMAT = /^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d(\\.\\d+)?(Z|[+-][01]\\d:[0-5]\\d)$/;\n\nfunction dateParse(prop, value) {\n  if (typeof value === 'string' && ISO_DATE_FORMAT.test(value)) {\n    return new Date(value);\n  }\n\n  return value;\n}\n\nfunction searchParse(search) {\n  if (!search) {\n    return {};\n  }\n\n  if (config.escape) {\n    search = unescape(search);\n  }\n\n  try {\n    return JSON.parse(search, config.dateParse ? dateParse : undefined);\n  } catch (error) {\n    return {};\n  }\n}\n\nfunction joinSearchString(arr) {\n  var strs = [''];\n\n  for (var i = 0, k = arr.length; i < k; i++) {\n    strs.push(arr[i] || '');\n  }\n\n  return strs.join(\"&\" + config.splitKey + \"=\");\n}\n\nfunction searchStringify(searchData) {\n  if (typeof searchData !== 'object') {\n    return '';\n  }\n\n  var str = JSON.stringify(searchData);\n\n  if (str === '{}') {\n    return '';\n  }\n\n  if (config.escape) {\n    return escape(str);\n  } else {\n    return str;\n  }\n}\n\nfunction splitSearch(search) {\n  var reg = new RegExp(\"[&?#]\" + config.splitKey + \"=[^&]*\", 'g');\n  var arr = search.match(reg);\n  var stackParams = [];\n\n  if (arr) {\n    stackParams = arr.map(function (str) {\n      return searchParse(str.split('=')[1]);\n    });\n  }\n\n  return stackParams;\n}\n\nfunction checkPathArgs(params) {\n  var obj = {};\n\n  for (var _key in params) {\n    if (params.hasOwnProperty(_key)) {\n      (function () {\n        var val = params[_key];\n\n        var props = _key.split('.');\n\n        if (props.length > 1) {\n          props.reduce(function (prev, cur, index, arr) {\n            if (index === arr.length - 1) {\n              prev[cur] = val;\n            } else {\n              prev[cur] = {};\n            }\n\n            return prev[cur];\n          }, obj);\n        } else {\n          obj[_key] = val;\n        }\n      })();\n    }\n  }\n\n  return obj;\n}\n\nfunction pathnameParse(pathname, routeConfig, paths, args) {\n  for (var _rule in routeConfig) {\n    if (routeConfig.hasOwnProperty(_rule)) {\n      var item = routeConfig[_rule];\n\n      var _ref = typeof item === 'string' ? [item, null] : item,\n          _viewName = _ref[0],\n          pathConfig = _ref[1];\n\n      var match = matchPath(pathname, {\n        path: _rule.replace(/\\$$/, ''),\n        exact: !pathConfig\n      });\n\n      if (match) {\n        paths.push(_viewName);\n\n        var _moduleName = _viewName.split(coreConfig.VSP)[0];\n\n        var params = match.params;\n\n        if (params && Object.keys(params).length > 0) {\n          args[_moduleName] = Object.assign({}, args[_moduleName], {}, checkPathArgs(params));\n        }\n\n        if (pathConfig) {\n          pathnameParse(pathname, pathConfig, paths, args);\n        }\n\n        return;\n      }\n    }\n  }\n}\n\nfunction compileConfig(routeConfig, parentAbsoluteViewName, viewToRule, ruleToKeys) {\n  if (parentAbsoluteViewName === void 0) {\n    parentAbsoluteViewName = '';\n  }\n\n  if (viewToRule === void 0) {\n    viewToRule = {};\n  }\n\n  if (ruleToKeys === void 0) {\n    ruleToKeys = {};\n  }\n\n  for (var _rule2 in routeConfig) {\n    if (routeConfig.hasOwnProperty(_rule2)) {\n      if (!ruleToKeys[_rule2]) {\n        var _compilePath = compilePath(_rule2, {\n          end: true,\n          strict: false,\n          sensitive: false\n        }),\n            keys = _compilePath.keys;\n\n        ruleToKeys[_rule2] = keys.reduce(function (prev, cur) {\n          prev.push(cur.name);\n          return prev;\n        }, []);\n      }\n\n      var item = routeConfig[_rule2];\n\n      var _ref2 = typeof item === 'string' ? [item, null] : item,\n          _viewName2 = _ref2[0],\n          pathConfig = _ref2[1];\n\n      var absoluteViewName = parentAbsoluteViewName + '/' + _viewName2;\n      viewToRule[absoluteViewName] = _rule2;\n\n      if (pathConfig) {\n        compileConfig(pathConfig, absoluteViewName, viewToRule, ruleToKeys);\n      }\n    }\n  }\n\n  return {\n    viewToRule: viewToRule,\n    ruleToKeys: ruleToKeys\n  };\n}\n\nexport function assignRouteData(paths, stackParams, args) {\n  if (!stackParams[0]) {\n    stackParams[0] = {};\n  }\n\n  if (args) {\n    stackParams[0] = assignDeep({}, args, stackParams[0]);\n  }\n\n  var firstStackParams = stackParams[0];\n  var views = paths.reduce(function (prev, cur) {\n    var _cur$split = cur.split(coreConfig.VSP),\n        moduleName = _cur$split[0],\n        viewName = _cur$split[1];\n\n    if (viewName) {\n      if (!prev[moduleName]) {\n        prev[moduleName] = {};\n      }\n\n      prev[moduleName][viewName] = true;\n\n      if (!firstStackParams[moduleName]) {\n        firstStackParams[moduleName] = {};\n      }\n    }\n\n    return prev;\n  }, {});\n  Object.keys(firstStackParams).forEach(function (moduleName) {\n    firstStackParams[moduleName] = assignDeep({}, config.defaultRouteParams[moduleName], firstStackParams[moduleName]);\n  });\n  var params = assignDeep.apply(void 0, [{}].concat(stackParams));\n  Object.keys(params).forEach(function (moduleName) {\n    if (!firstStackParams[moduleName]) {\n      params[moduleName] = assignDeep({}, config.defaultRouteParams[moduleName], params[moduleName]);\n    }\n  });\n  return {\n    views: views,\n    paths: paths,\n    params: params,\n    stackParams: stackParams\n  };\n}\nexport function fillRouteData(routePayload) {\n  var extend = routePayload.extend || {\n    views: {},\n    paths: [],\n    stackParams: [],\n    params: {}\n  };\n  var stackParams = [].concat(extend.stackParams);\n\n  if (routePayload.stackParams) {\n    routePayload.stackParams.forEach(function (item, index) {\n      if (item) {\n        stackParams[index] = assignDeep({}, stackParams[index], item);\n      }\n    });\n  }\n\n  return assignRouteData(routePayload.paths || extend.paths, stackParams);\n}\n\nfunction extractHashData(params) {\n  var searchParams = {};\n  var hashParams = {};\n\n  var _loop = function _loop(_moduleName2) {\n    if (params[_moduleName2] && params.hasOwnProperty(_moduleName2)) {\n      var data = params[_moduleName2];\n      var keys = Object.keys(data);\n\n      if (keys.length > 0) {\n        keys.forEach(function (key) {\n          if (key.startsWith('_')) {\n            if (!hashParams[_moduleName2]) {\n              hashParams[_moduleName2] = {};\n            }\n\n            hashParams[_moduleName2][key] = data[key];\n          } else {\n            if (!searchParams[_moduleName2]) {\n              searchParams[_moduleName2] = {};\n            }\n\n            searchParams[_moduleName2][key] = data[key];\n          }\n        });\n      } else {\n        searchParams[_moduleName2] = {};\n      }\n    }\n  };\n\n  for (var _moduleName2 in params) {\n    _loop(_moduleName2);\n  }\n\n  return {\n    search: searchStringify(searchParams),\n    hash: searchStringify(hashParams)\n  };\n}\n\nexport function buildTransformRoute(routeConfig) {\n  var _compileConfig = compileConfig(routeConfig),\n      viewToRule = _compileConfig.viewToRule,\n      ruleToKeys = _compileConfig.ruleToKeys;\n\n  var locationToRoute = function locationToRoute(location) {\n    var paths = [];\n    var pathsArgs = {};\n    pathnameParse(location.pathname, routeConfig, paths, pathsArgs);\n    var stackParams = splitSearch(location.search);\n    var hashStackParams = splitSearch(location.hash);\n    hashStackParams.forEach(function (item, index) {\n      if (item) {\n        if (!stackParams[index]) {\n          stackParams[index] = {};\n        }\n\n        assignDeep(stackParams[index], item);\n      }\n    });\n    return assignRouteData(paths, stackParams, pathsArgs);\n  };\n\n  var routeToLocation = function routeToLocation(routeData) {\n    var views = routeData.views,\n        paths = routeData.paths,\n        params = routeData.params,\n        stackParams = routeData.stackParams;\n    var firstStackParams = stackParams[0];\n    var pathname = '';\n    var firstStackParamsFilter;\n\n    if (paths.length > 0) {\n      firstStackParamsFilter = assignDeep({}, firstStackParams);\n      paths.reduce(function (parentAbsoluteViewName, viewName, index) {\n        var absoluteViewName = parentAbsoluteViewName + '/' + viewName;\n        var rule = viewToRule[absoluteViewName];\n        var moduleName = viewName.split(coreConfig.VSP)[0];\n\n        if (index === paths.length - 1) {\n          var toPath = compileToPath(rule);\n\n          var _keys = ruleToKeys[rule] || [];\n\n          var args = _keys.reduce(function (prev, cur) {\n            if (typeof cur === 'string') {\n              var props = cur.split('.');\n\n              if (props.length) {\n                prev[cur] = props.reduce(function (p, c) {\n                  return p[c];\n                }, params[moduleName]);\n                return prev;\n              }\n            }\n\n            prev[cur] = params[moduleName][cur];\n            return prev;\n          }, {});\n\n          pathname = toPath(args);\n        }\n\n        var keys = ruleToKeys[rule] || [];\n        keys.forEach(function (key) {\n          if (typeof key === 'string') {\n            var props = key.split('.');\n\n            if (props.length) {\n              props.reduce(function (p, c, i) {\n                if (i === props.length - 1) {\n                  delete p[c];\n                }\n\n                return p[c] || {};\n              }, firstStackParamsFilter[moduleName] || {});\n              return;\n            }\n          }\n\n          if (firstStackParamsFilter[moduleName]) {\n            delete firstStackParamsFilter[moduleName][key];\n          }\n        });\n        return absoluteViewName;\n      }, '');\n    } else {\n      firstStackParamsFilter = firstStackParams;\n    }\n\n    var arr = [].concat(stackParams);\n    arr[0] = excludeDefaultData(firstStackParamsFilter, config.defaultRouteParams, false, views);\n    var searchStrings = [];\n    var hashStrings = [];\n    arr.forEach(function (params, index) {\n      var _extractHashData = extractHashData(params),\n          search = _extractHashData.search,\n          hash = _extractHashData.hash;\n\n      search && (searchStrings[index] = search);\n      hash && (hashStrings[index] = hash);\n    });\n    return {\n      pathname: pathname,\n      search: '?' + joinSearchString(searchStrings).substr(1),\n      hash: '#' + joinSearchString(hashStrings).substr(1)\n    };\n  };\n\n  return {\n    locationToRoute: locationToRoute,\n    routeToLocation: routeToLocation\n  };\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport * as core from '@medux/core';\nimport { getView, isPromiseView } from '@medux/core';\nimport React, { useState } from 'react';\nimport { renderToNodeStream, renderToString } from 'react-dom/server';\nimport { Provider } from 'react-redux';\nimport ReactDOM from 'react-dom';\nexport function renderApp(moduleGetter, appModuleName, historyProxy, storeOptions, container, beforeRender) {\n  if (container === void 0) {\n    container = 'root';\n  }\n\n  return core.renderApp(function (store, appModel, appViews, ssrInitStoreKey) {\n    var reduxProvider = React.createElement(Provider, {\n      store: store\n    }, React.createElement(appViews.Main, null));\n\n    if (typeof container === 'function') {\n      container(reduxProvider);\n    } else {\n      var render = window[ssrInitStoreKey] ? ReactDOM.hydrate : ReactDOM.render;\n      render(reduxProvider, typeof container === 'string' ? document.getElementById(container) : container);\n    }\n  }, moduleGetter, appModuleName, historyProxy, storeOptions, beforeRender);\n}\nexport function renderSSR(moduleGetter, appModuleName, historyProxy, storeOptions, renderToStream, beforeRender) {\n  if (storeOptions === void 0) {\n    storeOptions = {};\n  }\n\n  if (renderToStream === void 0) {\n    renderToStream = false;\n  }\n\n  return core.renderSSR(function (store, appModel, appViews, ssrInitStoreKey) {\n    var data = store.getState();\n    var reduxProvider = React.createElement(Provider, {\n      store: store\n    }, React.createElement(appViews.Main, null));\n    var render = renderToStream ? renderToNodeStream : renderToString;\n    return {\n      store: store,\n      ssrInitStoreKey: ssrInitStoreKey,\n      data: data,\n      html: render(reduxProvider)\n    };\n  }, moduleGetter, appModuleName, historyProxy, storeOptions, beforeRender);\n}\nexport var loadView = function loadView(moduleName, viewName, options, Loading) {\n  var _ref = options || {},\n      forwardRef = _ref.forwardRef,\n      modelOptions = _objectWithoutPropertiesLoose(_ref, [\"forwardRef\"]);\n\n  var Loader = function ViewLoader(props) {\n    var _useState = useState(function () {\n      var moduleViewResult = getView(moduleName, viewName, modelOptions);\n\n      if (isPromiseView(moduleViewResult)) {\n        moduleViewResult.then(function (Component) {\n          setView({\n            Component: Component\n          });\n        });\n        return null;\n      } else {\n        return {\n          Component: moduleViewResult\n        };\n      }\n    }),\n        view = _useState[0],\n        setView = _useState[1];\n\n    var forwardRef = props.forwardRef,\n        other = _objectWithoutPropertiesLoose(props, [\"forwardRef\"]);\n\n    var ref = forwardRef ? {\n      ref: forwardRef\n    } : {};\n    return view ? React.createElement(view.Component, _extends({}, other, ref)) : Loading ? React.createElement(Loading, props) : null;\n  };\n\n  var Component = forwardRef ? React.forwardRef(function (props, ref) {\n    return React.createElement(Loader, _extends({}, props, {\n      forwardRef: ref\n    }));\n  }) : Loader;\n  return Component;\n};\nexport var exportModule = core.exportModule;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { assignRouteData, buildTransformRoute, deepAssign } from '@medux/route-plan-a';\nexport { createBrowserHistory, createMemoryHistory, createHashHistory } from 'history';\nexport function fillBrowserRouteData(routePayload) {\n  var extend = routePayload.extend || {\n    views: {},\n    paths: [],\n    stackParams: [],\n    params: {}\n  };\n  var stackParams = [].concat(extend.stackParams);\n\n  if (routePayload.params) {\n    stackParams[0] = deepAssign({}, stackParams[0], routePayload.params);\n  }\n\n  return assignRouteData(routePayload.paths || extend.paths, stackParams);\n}\n\nfunction isBrowserRoutePayload(data) {\n  return !data['pathname'];\n}\n\nvar BrowserHistoryProxy = function () {\n  function BrowserHistoryProxy(history, locationToRoute) {\n    this.history = history;\n    this.locationToRoute = locationToRoute;\n\n    _defineProperty(this, \"initialized\", true);\n  }\n\n  var _proto = BrowserHistoryProxy.prototype;\n\n  _proto.getLocation = function getLocation() {\n    return this.history.location;\n  };\n\n  _proto.subscribe = function subscribe(listener) {\n    this.history.listen(listener);\n  };\n\n  _proto.locationToRouteData = function locationToRouteData(location) {\n    return location.state || this.locationToRoute(location);\n  };\n\n  _proto.equal = function equal(a, b) {\n    return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash;\n  };\n\n  _proto.patch = function patch(location, routeData) {\n    this.history.push(Object.assign({}, location, {\n      state: routeData\n    }));\n  };\n\n  return BrowserHistoryProxy;\n}();\n\nexport function createRouter(history, routeConfig) {\n  var transformRoute = buildTransformRoute(routeConfig);\n  var toBrowserUrl = buildToBrowserUrl(transformRoute.routeToLocation);\n  var historyProxy = new BrowserHistoryProxy(history, transformRoute.locationToRoute);\n  var historyActions = {\n    listen: function listen(listener) {\n      return history.listen(listener);\n    },\n    getLocation: function getLocation() {\n      return history.location;\n    },\n    getRouteData: function getRouteData() {\n      return history.location.state || transformRoute.locationToRoute(history.location);\n    },\n    push: function push(data) {\n      if (typeof data === 'string') {\n        history.push(data);\n      } else if (isBrowserRoutePayload(data)) {\n        var routeData = fillBrowserRouteData(data);\n\n        var _location = transformRoute.routeToLocation(routeData);\n\n        history.push(Object.assign({}, _location, {\n          state: routeData\n        }));\n      } else {\n        history.push(Object.assign({}, data, {\n          state: undefined\n        }));\n      }\n    },\n    replace: function replace(data) {\n      if (typeof data === 'string') {\n        history.replace(data);\n      } else if (isBrowserRoutePayload(data)) {\n        var routeData = fillBrowserRouteData(data);\n\n        var _location2 = transformRoute.routeToLocation(routeData);\n\n        history.replace(Object.assign({}, _location2, {\n          state: routeData\n        }));\n      } else {\n        history.replace(Object.assign({}, data, {\n          state: undefined\n        }));\n      }\n    },\n    go: function go(n) {\n      history.go(n);\n    },\n    goBack: function goBack() {\n      history.goBack();\n    },\n    goForward: function goForward() {\n      history.goForward();\n    }\n  };\n  return {\n    transformRoute: transformRoute,\n    historyProxy: historyProxy,\n    historyActions: historyActions,\n    toBrowserUrl: toBrowserUrl\n  };\n}\n\nfunction buildToBrowserUrl(routeToLocation) {\n  function toUrl() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (args.length === 1) {\n      var _location3 = routeToLocation(fillBrowserRouteData(args[0]));\n\n      args = [_location3.pathname, _location3.search, _location3.hash];\n    }\n\n    var _ref = args,\n        pathname = _ref[0],\n        search = _ref[1],\n        hash = _ref[2];\n    var url = pathname;\n\n    if (search) {\n      url += search;\n    }\n\n    if (hash) {\n      url += hash;\n    }\n\n    return url;\n  }\n\n  return toUrl;\n}","import {TransformRoute, MeduxLocation, setRouteConfig} from '@medux/route-plan-a';\nimport {RootState as BaseRootState, ModuleGetter, StoreOptions, StoreState} from '@medux/core';\nimport {History, createLocation} from 'history';\nimport {Store} from 'redux';\nimport React, {ReactElement} from 'react';\nimport {renderApp, renderSSR} from '@medux/react';\nimport {HistoryActions, createRouter, ToBrowserUrl} from '@medux/web';\n\nexport {loadView, exportModule} from '@medux/react';\nexport {ActionTypes, delayPromise, LoadingState, exportActions, BaseModelHandlers, effect, errorAction, reducer} from '@medux/core';\nexport {setRouteConfig} from '@medux/route-plan-a';\n\nexport type {Actions, RouteData, RouteViews, BaseModelState} from '@medux/core';\nexport type {LoadView} from '@medux/react';\nexport type {RouteConfig} from '@medux/route-plan-a';\n\nlet historyActions: HistoryActions | undefined = undefined;\nlet transformRoute: TransformRoute | undefined = undefined;\nlet toBrowserUrl: ToBrowserUrl | undefined = undefined;\n\nexport type BrowserRouter<Params> = {transformRoute: TransformRoute; historyActions: HistoryActions<Params>; toUrl: ToBrowserUrl<Params>};\n\nexport function buildApp<M extends ModuleGetter, A extends Extract<keyof M, string>>({\n  moduleGetter,\n  appModuleName,\n  history,\n  routeConfig = {},\n  defaultRouteParams,\n  storeOptions = {},\n  container = 'root',\n  beforeRender,\n}: {\n  moduleGetter: M;\n  appModuleName: A;\n  history: History;\n  routeConfig?: import('@medux/route-plan-a').RouteConfig;\n  defaultRouteParams?: {[moduleName: string]: any};\n  storeOptions?: StoreOptions;\n  container?: string | Element | ((component: ReactElement<any>) => void);\n  beforeRender?: (data: {store: Store<StoreState>; history: History; historyActions: HistoryActions; toBrowserUrl: ToBrowserUrl; transformRoute: TransformRoute}) => Store<StoreState>;\n}) {\n  setRouteConfig({defaultRouteParams});\n  const router = createRouter(history, routeConfig);\n  historyActions = router.historyActions;\n  toBrowserUrl = router.toBrowserUrl;\n  transformRoute = router.transformRoute;\n  return renderApp(moduleGetter, appModuleName, router.historyProxy, storeOptions, container, (store) => {\n    const storeState = store.getState();\n    const {views} = storeState.route.data;\n    if (views['@']) {\n      const url = Object.keys(views['@'])[0];\n      historyActions!.replace(url);\n    }\n    return beforeRender ? beforeRender({store, history, historyActions: historyActions!, toBrowserUrl: toBrowserUrl!, transformRoute: transformRoute!}) : store;\n  });\n}\n\nexport function buildSSR<M extends ModuleGetter, A extends Extract<keyof M, string>>({\n  moduleGetter,\n  appModuleName,\n  location,\n  routeConfig = {},\n  defaultRouteParams,\n  storeOptions = {},\n  renderToStream = false,\n  beforeRender,\n}: {\n  moduleGetter: M;\n  appModuleName: A;\n  location: string;\n  routeConfig?: import('@medux/route-plan-a').RouteConfig;\n  defaultRouteParams?: {[moduleName: string]: any};\n  storeOptions?: StoreOptions;\n  renderToStream?: boolean;\n  beforeRender?: (data: {store: Store<StoreState>; history: History; historyActions: HistoryActions; toBrowserUrl: ToBrowserUrl; transformRoute: TransformRoute}) => Store<StoreState>;\n}): Promise<{html: string | ReadableStream; data: any; ssrInitStoreKey: string}> {\n  setRouteConfig({defaultRouteParams});\n  const history: History = {listen: () => void 0, location: createLocation(location)} as any;\n  const router = createRouter(history, routeConfig);\n  historyActions = router.historyActions;\n  toBrowserUrl = router.toBrowserUrl;\n  transformRoute = router.transformRoute;\n  return renderSSR(moduleGetter, appModuleName, router.historyProxy, storeOptions, renderToStream, (store) => {\n    const storeState = store.getState();\n    const {views} = storeState.route.data;\n    if (views['@']) {\n      const url = Object.keys(views['@'])[0];\n      throw {code: '301', message: url, detail: url};\n    }\n    return beforeRender ? beforeRender({store, history, historyActions: historyActions!, toBrowserUrl: toBrowserUrl!, transformRoute: transformRoute!}) : store;\n  });\n}\n\nexport type RootState<G extends ModuleGetter> = BaseRootState<G, MeduxLocation>;\n\ninterface SwitchProps {\n  elseView?: React.ReactNode;\n  children: React.ReactNode;\n}\nexport const Switch: React.FC<SwitchProps> = ({children, elseView}) => {\n  if (!children || (Array.isArray(children) && children.every((item) => !item))) {\n    return <>{elseView}</>;\n  } else {\n    return <>{children}</>;\n  }\n};\n\nexport interface LinkProps extends React.AnchorHTMLAttributes<HTMLAnchorElement> {\n  replace?: boolean;\n}\n\nfunction isModifiedEvent(event: React.MouseEvent<HTMLAnchorElement, MouseEvent>) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\n// eslint-disable-next-line react/display-name\nexport const Link = React.forwardRef<HTMLAnchorElement, LinkProps>(({onClick, replace, ...rest}, ref) => {\n  const {target} = rest;\n  const props = {\n    ...rest,\n    onClick: (event: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => {\n      try {\n        onClick && onClick(event);\n      } catch (ex) {\n        event.preventDefault();\n        throw ex;\n      }\n\n      if (\n        !event.defaultPrevented && // onClick prevented default\n        event.button === 0 && // ignore everything but left clicks\n        (!target || target === '_self') && // let browser handle \"target=_blank\" etc.\n        !isModifiedEvent(event) // ignore clicks with modifier keys\n      ) {\n        event.preventDefault();\n        replace ? historyActions!.replace(rest.href!) : historyActions!.push(rest.href!);\n      }\n    },\n  };\n  return <a {...props} ref={ref} />;\n});\n"],"names":["LoadingState","PEvent","name","data","bubbling","_defineProperty","this","_proto","prototype","setTarget","target","setCurrentTarget","currentTarget","TaskCounter","_PDispatcher","deferSecond","_this2","call","_assertThisInitialized","_inheritsLoose","_proto3","addItem","promise","note","_this3","list","some","item","push","then","completeItem","length","dispatch","Start","ctimer","setTimeout","Depth","i","findIndex","splice","clearTimeout","Stop","PDispatcher","parent","_proto2","addListener","ename","handler","dictionary","storeHandlers","removeListener","_this","handlers","propertyIsEnumerable","n","indexOf","Object","keys","forEach","key","evt","k","setParent","loadings","config","NSP","VSP","MSP","MetaData","isServer","global","window","isDev","process","env","NODE_ENV","actionCreatorMap","clientStore","appModuleName","moduleGetter","ActionTypes","MLoading","MInit","MRouteParams","Error","RouteChange","client","undefined","isPromise","reducer","descriptor","fun","value","__actionName__","__isReducer__","enumerable","isProcessedError","error","meduxProcessed","transformAction","actionName","action","listenerModule","actionHandlerMap","addModuleActionCreatorList","moduleName","actions","_len2","arguments","payload","Array","_key2","type","errorAction","loadModel","store","options","_medux_","injectedModules","result","module","default","model","getActionData","isArray","bindHistory","history","inTimeTravelling","handleLocationChange","location","route","getState","equal","locationToRouteData","routeChangeAction","subscribe","initialized","storeRouteState","getLocation","patch","buildStore","preloadedState","storeReducers","storeMiddlewares","storeEnhancers","state","assign","middlewareEnhancer","applyMiddleware","apply","next","_action$type$split","split","initModel","concat","_ref2","originalAction","meta","beforeState","prevState","rootRouteParams","params","routeParams","routeParamsAction","handlersCommon","effectMap","handlersEvery","replace","RegExp","handlerModules","orderList","priority","unshift","__isHandler__","moduleNameMap","promiseResults","effectResult","decorators","__decorators__","results","decorator","index","__decoratorResults__","errorHandler","reslove","_results","_results2","setProcessedError","Promise","all","enhancers","newCreateStore","newStore","modelStore","currentState","reducerMap","currentViews","__REDUX_DEVTOOLS_EXTENSION__","__REDUX_DEVTOOLS_EXTENSION__OPTIONS","createStore","rootState","changed","compose","BaseModelHandlers","_decorate","_initialize","F","d","kind","getRootState","getCurrentState","getCurrentRootState","getBeforeState","getBeforeRootState","_len","rest","_key","callThisAction","Update","_loadModel","initState","loading","isPromiseModule","getModuleListByNames","moduleNames","preModules","map","getModuleByName","resolve","_renderSSR","_asyncToGenerator","_regeneratorRuntime","mark","_callee","render","storeOptions","beforeRender","ssrInitStoreKey","reduxStore","storeState","paths","appModule","inited","_paths$i$split","_moduleName","wrap","_context","prev","initData","reducers","middlewares","abrupt","views","stop","_createForOfIteratorHelperLoose","o","Symbol","iterator","minLen","_arrayLikeToArray","toString","slice","constructor","from","test","_unsupportedIterableToArray","done","TypeError","bind","arr","len","arr2","parse","str","tokens","char","count","pattern","_j","j","code","charCodeAt","lexer","_options$prefixes","prefixes","defaultPattern","escapeString","delimiter","path","tryConsume","mustConsume","_tokens$i","nextType","consumeText","prefix","suffix","modifier","_value","_prefix","_name","_pattern","compile","reFlags","flags","_options2","_options2$encode","encode","x","_options2$validate","validate","matches","token","_token","_value2","optional","repeat","segment","typeOfMessage","_segment","String","tokensToFunction","sensitive","stringToRegexp","_step","_options4","_options4$strict","strict","_options4$start","start","_options4$end","end","_options4$encode","endsWith","_iterator","_token2","mod","endToken","isEndDelimited","tokensToRegexp","pathToRegexp","groups","source","match","regexpToRegexp","parts","join","arrayToRegexp","cache","cacheCount","compilePath","cacheKey","pathCache","regexp","matchPath","pathname","_options","_options$exact","exact","_options$strict","_options$sensitive","reduce","matched","url","isExact","_compilePath","exec","values","memo","isSpecificValue","val","Buffer","Date","cloneSpecificValue","alloc","copy","getTime","deepCloneArray","clone","deepExtend","safeGetProperty","object","property","src","args","obj","deepAssign","assignDeep","escape","dateParse","splitKey","defaultRouteParams","setRouteConfig","conf","ISO_DATE_FORMAT","prop","joinSearchString","strs","searchStringify","searchData","JSON","stringify","splitSearch","search","reg","stackParams","unescape","searchParse","checkPathArgs","hasOwnProperty","props","cur","assignRouteData","firstStackParams","_cur$split","coreConfig","viewName","buildTransformRoute","routeConfig","_compileConfig","compileConfig","parentAbsoluteViewName","viewToRule","ruleToKeys","_rule2","_viewName2","pathConfig","absoluteViewName","locationToRoute","pathsArgs","pathnameParse","_rule","_ref","_viewName","hash","routeToLocation","routeData","firstStackParamsFilter","rule","toPath","compileToPath","p","c","excludeDefaultData","def","holde","defaultValue","searchStrings","hashStrings","_extractHashData","searchParams","hashParams","_loop","_moduleName2","startsWith","extractHashData","substr","renderApp","historyProxy","container","preModuleNames","filter","isModule","core","appModel","appViews","reduxProvider","React","createElement","Provider","Main","ReactDOM","hydrate","document","getElementById","renderSSR","renderToStream","_x","_x2","_x3","_x4","_x5","_x6","html","renderToNodeStream","renderToString","exportModule","ActionHandles","moduleState","_actions","actionNames","thisObj","newFun","__isEffect__","trim","injectActions","initAction","Init","fillBrowserRouteData","routePayload","extend","isBrowserRoutePayload","BrowserHistoryProxy","listener","listen","a","b","createRouter","transformRoute","toBrowserUrl","_location3","historyActions","getRouteData","_location","_location2","go","goBack","goForward","Link","forwardRef","ref","onClick","event","ex","preventDefault","defaultPrevented","button","metaKey","altKey","ctrlKey","shiftKey","isModifiedEvent","href","children","elseView","every","router","createLocation","message","detail","second","delay","items","loadingForGroupName","loadingForModuleName","curAction","promiseResult","group","e","_action","setLoading","maps","Proxy","get","set","Loading","modelOptions","_objectWithoutPropertiesLoose","Loader","_useState","useState","moduleViewResult","view","getView","Component","setView","other","_extends"],"mappings":"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"}