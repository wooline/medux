"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=!0,exports.setConfig=function(e){(0,s.setConfig)(e),(0,o.setRouteConfig)(e)},exports.buildApp=function(e,i){var n=i.appModuleName,d=void 0===n?"app":n,u=i.appViewName,c=void 0===u?"main":u,x=i.historyType,m=void 0===x?"Browser":x,l=i.locationTransform,v=i.storeOptions,g=void 0===v?{}:v,S=i.container,f=void 0===S?"root":S;a.appExports.history=(0,p.createRouter)(m,l),g.middlewares||(g.middlewares=[]);g.middlewares.unshift(o.routeMiddleware),g.reducers||(g.reducers={});g.reducers.route=o.routeReducer,g.initData||(g.initData={});return g.initData=(0,s.mergeState)(g.initData,{route:a.appExports.history.getRouteState()}),(0,s.renderApp)((function(e,o,p,a){var i=function(o){var p="string"==typeof f?s.env.document.getElementById(f):f;(0,r.unmountComponentAtNode)(p),(s.env[a]?r.hydrate:r.render)(t.default.createElement(o,{store:e}),p)};return i(p),i}),e,d,c,g,(function(e){a.appExports.store=e,a.appExports.history.setStore(e);var t=a.appExports.history.getRouteState();return Object.keys(t.params)}))},exports.setSsrHtmlTpl=function(e){c=e},exports.buildSSR=function(e,r){var o=r.request,i=r.response,n=r.appModuleName,d=void 0===n?"app":n,u=r.appViewName,x=void 0===u?"main":u,m=r.locationTransform,l=r.storeOptions,v=void 0===l?{}:l,g=r.container,S=void 0===g?"root":g;c||(c=Buffer.from("process.env.MEDUX_ENV_SSRTPL","base64").toString());a.appExports.request=o,a.appExports.response=i,a.appExports.history=(0,p.createRouter)(o.url,m),v.initData||(v.initData={});return v.initData=(0,s.mergeState)(v.initData,{route:a.appExports.history.getRouteState()}),(0,s.renderSSR)((function(e,r,o,s){var p=e.getState();return{store:e,ssrInitStoreKey:s,data:p,html:require("react-dom/server").renderToString(t.default.createElement(o,{store:e}))}}),e,d,x,v,(function(e){a.appExports.store=e,Object.defineProperty(a.appExports,"state",{get:function(){return e.getState()}}),a.appExports.history.setStore(e);var t=a.appExports.history.getRouteState();return Object.keys(t.params)})).then((function(e){var t=e.html,r=e.data,o=e.ssrInitStoreKey,s=c.match(new RegExp("<[^<>]+id=['\"]"+S+"['\"][^<>]*>","m"));if(s){var p=t.split(/<head>|<\/head>/,3);return t=p[0]+p[2],c.replace("</head>",p[1]+"\r\n<script>window."+o+" = "+JSON.stringify(r)+";<\/script>\r\n</head>").replace(s[0],s[0]+t)}return t}))},exports.exportModule=exports.Link=exports.Switch=exports.Else=exports.DocumentHead=exports.patchActions=exports.exportApp=exports.createWebLocationTransform=exports.BaseModuleHandlers=exports.deepMergeState=exports.deepMerge=exports.serverSide=exports.isServer=exports.setLoadingDepthTime=exports.logger=exports.setLoading=exports.viewHotReplacement=exports.reducer=exports.errorAction=exports.effect=exports.modelHotReplacement=exports.LoadingState=exports.delayPromise=exports.ActionTypes=void 0;var t=e(require("react")),r=require("react-dom"),o=require("@medux/route-plan-a");exports.BaseModuleHandlers=o.RouteModuleHandlers,exports.createWebLocationTransform=o.createWebLocationTransform;var s=require("@medux/core");exports.ActionTypes=s.ActionTypes,exports.delayPromise=s.delayPromise,exports.LoadingState=s.LoadingState,exports.modelHotReplacement=s.modelHotReplacement,exports.effect=s.effect,exports.errorAction=s.errorAction,exports.reducer=s.reducer,exports.viewHotReplacement=s.viewHotReplacement,exports.setLoading=s.setLoading,exports.logger=s.logger,exports.setLoadingDepthTime=s.setLoadingDepthTime,exports.isServer=s.isServer,exports.serverSide=s.serverSide,exports.deepMerge=s.deepMerge,exports.deepMergeState=s.deepMergeState;var p=require("@medux/web"),a=require("./sington");exports.exportApp=a.exportApp,exports.patchActions=a.patchActions;var i=require("./components/DocumentHead");exports.DocumentHead=i.DocumentHead;var n=require("./components/Else");exports.Else=n.Else;var d=require("./components/Switch");exports.Switch=d.Switch;var u=require("./components/Link");exports.Link=u.Link;var c,x=s.exportModule;exports.exportModule=x;
//# sourceMappingURL=index.min.js.map
